<ion-view title="提现">
  <ion-content>
    <div ng-if="!ctrl.viewModel.noCard">
      <ion-list class="bank-card">
        <ion-item class="item-thumbnail-left item-icon-right" ui-sref="jym.user-settle-account-withdrawal-bank-card-selector">
          <img ng-src="{{ ctrl.viewModel.bankName | bankImg }}">

          <h2>
            <span ng-bind="ctrl.viewModel.bankName"></span>
            <span>尾号 <em ng-bind="ctrl.viewModel.bankCardNo.substr(-4)"></em></span>
          </h2>

          <p>限取额度（元）<span ng-bind="ctrl.viewModel.withdrawAmount"></span></p>
          <i class="icon ion-chevron-right"></i>
        </ion-item>
        <ion-item class="divider"></ion-item>
        <ion-item>
          <span>可取金额（元）：<em ng-bind="ctrl.viewModel.withdrawalableAmount"></em></span>
        </ion-item>
        <ion-item class="divider"></ion-item>
        <ion-item class="item-input max-withdrawal">
          <span class="input-label">取款金额</span>
          <input type="number" placeholder="请输入取款金额（元）" required min="0.01" max="{{ ctrl.viewModel.withdrawalableAmount }}" ng-model="ctrl.viewModel.amount">
        </ion-item>
        <ion-item class="item-input">
          <span class="input-label">输入密码</span>
          <input type="password" placeholder="请输入您的支付密码" ng-model="ctrl.viewModel.password" required minlength="8" maxlength="18" ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\D+$).{8,18}$/">
        </ion-item>
      </ion-list>
      <div class="space"></div>
      <div class="space"></div>
      <button class="btn button-yellow" ng-disabled="!ctrl.buttonEnable()" ng-click="ctrl.withdraw()">提现</button>
    </div>
    <div ng-if="ctrl.viewModel.noCard">
      <div id="yilian-notice">
        <h3>为了您的资金安全，您必须先签约绑定银行卡，才能进行取现操作！</h3>
      </div>
      <div class="space"></div>
      <button class="btn button-yellow" ui-sref="jym.user-bank-card-add">绑定银行卡</button>
    </div>
  </ion-content>
</ion-view>
