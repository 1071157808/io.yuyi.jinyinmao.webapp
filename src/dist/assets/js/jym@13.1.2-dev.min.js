"use strict";angular.module("jym.constants",[]).constant("URLS",{CONFIG:{FETCH:"https://jymstoredev.blob.core.chinacloudapi.cn:443/publicfiles/Configs/AppConfig/3.1.1"},JINBAOYIN:{FETCH:"https://jym-dev-api.jinyinmao.com.cn:443/Product/Current/JBY",SOLD:"https://jym-dev-api.jinyinmao.com.cn:443/Product/Current/Sold/"},INVESTING:{JBY:"https://jym-dev-api.jinyinmao.com.cn:443/Investing/JBY",REGULAR:"https://jym-dev-api.jinyinmao.com.cn:443/Investing/Regular"},USER:{GETINFO:"https://jym-dev-api.jinyinmao.com.cn:443/User",SIGNIN:"https://jym-dev-api.jinyinmao.com.cn:443/User/Auth/SignIn",SENDVERICODE:"https://jym-dev-api.jinyinmao.com.cn:443/SendVeriCode",VERIFYVERICODE:"https://jym-dev-api.jinyinmao.com.cn:443/VerifyVeriCode",RESETLOGINPASSWORD:"https://jym-dev-api.jinyinmao.com.cn:443/User/Auth/ResetLoginPassword",RESETPAYMENTPASSWORD:"https://jym-dev-api.jinyinmao.com.cn:443/User/Auth/ResetPaymentPassword",SINGUP:"https://jym-dev-api.jinyinmao.com.cn:443/User/Auth/SignUp",SETPAYMENTPASSWORD:"https://jym-dev-api.jinyinmao.com.cn:443/User/Auth/SetPaymentPassword",AUTHENTICATE:"https://jym-dev-api.jinyinmao.com.cn:443/User/Auth/Authenticate"},USERJINBAOYIN:{INFO:"https://jym-dev-api.jinyinmao.com.cn:443/User/JBY/Transaction/",LIST:"https://jym-dev-api.jinyinmao.com.cn:443/User/JBY/Transactions/",WITHDRAWAL:"https://jym-dev-api.jinyinmao.com.cn:443/User/JBY/Withdrawal"},ORDER:{INFO:"https://jym-dev-api.jinyinmao.com.cn:443/User/Order/Info/",LIST:"https://jym-dev-api.jinyinmao.com.cn:443/User/Order/Index/"},SETTLEACCOUNT:{LIST:"https://jym-dev-api.jinyinmao.com.cn:443/User/Settle/Transactions/",INFO:"https://jym-dev-api.jinyinmao.com.cn:443/User/Settle/Transaction/",DEPOSIT:"https://jym-dev-api.jinyinmao.com.cn:443/User/Settle/Deposit/Yilian",WITHDRAWAL:"https://jym-dev-api.jinyinmao.com.cn:443/User/Settle/Withdrawal"},BANKCARD:{LIST:"https://jym-dev-api.jinyinmao.com.cn:443/User/BankCards/Index",INFO:"https://jym-dev-api.jinyinmao.com.cn:443/User/BankCards/Info/",REMOVE:"https://jym-dev-api.jinyinmao.com.cn:443/User/BankCards/Remove",WITHDRAWALABLE:"https://jym-dev-api.jinyinmao.com.cn:443/User/BankCards/Withdrawalable",VERIFYBANKCARDBYYILIAN:"https://jym-dev-api.jinyinmao.com.cn:443/User/BankCards/VerifyBankCardByYilian",ADDBANKCARD:"https://jym-dev-api.jinyinmao.com.cn:443/User/BankCards/AddBankCard"},REGULARPRDUCT:{INFO:"https://jym-dev-api.jinyinmao.com.cn:443/Product/Regular/",PAGE:"https://jym-dev-api.jinyinmao.com.cn:443/Product/Regular/Page/",SOLD:"https://jym-dev-api.jinyinmao.com.cn:443/Product/Regular/Sold/"}}).constant("RESOURCES",{ALERT:{PRODUCT:{NOT_ON_SALE:"该产品未开售<br>请耐心等待",SOLD_OUT:"该产品已经售罄<br>请期待下一期",SHARE_INSUFFICIENT:"产品剩余份额不足",AMOUNT_INCORRECT:"购买金额错误"},USER:{CLOSED:"账户被禁用<br>如需帮助，请联系金银猫客服<br>4008-556-333",HAS_NOT_SET_PAYMENT_PASSWORD:"请先设置支付密码",PAYMENT_PASSWORD_NEED_RESET:"支付密码被锁定<br>请重置后使用",USER_LOGIN_PASSWORD_LOCK:"登录密码被锁定<br>请重置后使用",USER_NOT_EXIST:"用户名或者密码错误<br>请确认后再试",USER_LOGIN_FAIL:"用户名或者密码错误<br>请确认后再试",USER_LOGIN_PASSWORD_REMIAN_LESS:"用户名或者密码错误次数过多<br>请核实后再试",TOO_MANY_VERI_CODE:"验证码发送次数过多<br>请稍后再试",VERI_CODE_FAIL:"验证码错误<br>请确认后重试",VERI_CODE_EXPIRE:"验证码过期<br>请重新获取验证码"}},TIP:{USER:{INVALID_CELLPHONE:"请填写正确的手机号",INVALID_PASSWORD:"请输入正确的密码",LOGIN_OUT:"退出成功",LOGIN_SUCCESS:"登录成功"},BANKCARD:{REMOVE_SUCCESS:"删除银行卡成功",SIGN:"认证申请已经提交<br>请耐心等待"},MISC:{SEND_VERI_CODE:"发送成功",VERIFY_VERI_CODE:"验证通过"},SECURITY:{RESET_PASSWORD:"登录密码修改成功<br>请用新密码登录",SETPAYMENTPASSWORD:"设置成功"},SIGNUP:{SIGNUP_SUCCESS:"注册成功<br>请登录使用"},SETTLEACCOUNT:{DEPOSIT_SUCCESS:"充值申请已经提交<br>请耐心等待支付结果",WITHDRAWAL_SUCCESS:"提现申请已经提交<br>我们将尽快处理"},JINBAOYIN:{WITHDRAWAL_SUCCESS:"赎回申请已经提交<br>我们将尽快处理"},INVESTING:{JBY:"认购成功",REGULAR:"购买成功"}}}).constant("REGEX",{CELLPHONE:/^(13|14|15|17|18)\d{9}$/,PASSWORD:/^[a-zA-Z\d~!@#$%^&*_]{6,18}$/,PAYMENT_PASSWORD:/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\D+$).{8,18}$/,URL:/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[:?\d]*)\S*$/}).constant("APP",{VERSION:"13.1.2-DEV"}),angular.module("jym.controllers",["jym.services"]).controller("SlidesCtrl",["$state","$timeout","$ionicSlideBoxDelegate","JYMConfigService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.slides=[],f.activeSlideIndex=0,d.getSlidesConfig().then(function(a){f.slides=a}).then(function(){c.update()}),f.clickSlide=function(a){e.open(a)},f.onSlideChanged=function(){f.activeSlideIndex===f.slides.length-2&&b(function(){f.activeSlideIndex=0},5e3)}}]),angular.module("jym.filters",[]).filter("bankImg",function(){return function(a){switch(a){case"浦发银行":return"assets/img/bank/pufa@40x40-3cda6c.png";case"深发银行":return"assets/img/bank/shenfazhan@40x40-922fbb.png";case"平安银行":return"assets/img/bank/pingan@40x40-487256.png";case"民生银行":return"assets/img/bank/minsheng@40x40-573103.png";case"工商银行":return"assets/img/bank/gonghang@40x40-844afd.png";case"农业银行":return"assets/img/bank/nonghang@40x40-ada715.png";case"建设银行":return"assets/img/bank/jianhang@40x40-de9c06.png";case"招商银行":return"assets/img/bank/zhaoshang@40x40-5bc7fd.png";case"广发银行":return"assets/img/bank/guangfa@40x40-270364.png";case"广州银行":return"assets/img/bank/guangzhou@40x40-df18d8.png";case"邮储银行":return"assets/img/bank/youzheng@40x40-90986d.png";case"兴业银行":return"assets/img/bank/xingye@40x40-6770ec.png";case"光大银行":return"assets/img/bank/guangda@40x40-c356de.png";case"华夏银行":return"assets/img/bank/huaxia@40x40-5f3ce6.png";case"中信银行":return"assets/img/bank/zhongxin@40x40-a69ffa.png";case"广州农商行":return"assets/img/bank/guangzhounongshang@40x40-bacdad.png";case"中国银行":return"assets/img/bank/zhonghang@40x39-ae01dc.png";case"富滇银行":return"assets/img/bank/fudian@40x40-dc7016.png";default:return"assets/img/bank/zhonghang@40x39-ae01dc.png"}}}).filter("bankCardStatus",function(){return function(a){if(a){if(a.verifiedByYilian)return"签约支付";if(a.verified)return"短信验证支付"}return""}}).filter("city",function(){return function(a){if(!isFinite(a))return a;var b=[{id:1,cityName:"北京  东城区"},{id:2,cityName:"北京  西城区"},{id:3,cityName:"北京  崇文区"},{id:4,cityName:"北京  宣武区"},{id:5,cityName:"北京  朝阳区"},{id:6,cityName:"北京  丰台区"},{id:7,cityName:"北京  石景山区"},{id:8,cityName:"北京  海淀区"},{id:9,cityName:"北京  门头沟区"},{id:10,cityName:"北京  房山区"},{id:11,cityName:"北京  通州区"},{id:12,cityName:"北京  顺义区"},{id:13,cityName:"北京  昌平区"},{id:14,cityName:"北京  大兴区"},{id:15,cityName:"北京  平谷区"},{id:16,cityName:"北京  怀柔区"},{id:17,cityName:"北京  密云县"},{id:18,cityName:"北京  延庆县"},{id:19,cityName:"上海  浦东新区"},{id:20,cityName:"上海  徐汇区"},{id:21,cityName:"上海  黄浦区"},{id:22,cityName:"上海  杨浦区"},{id:23,cityName:"上海  虹口区"},{id:24,cityName:"上海  闵行区"},{id:25,cityName:"上海  长宁区"},{id:26,cityName:"上海  普陀区"},{id:27,cityName:"上海  宝山区"},{id:28,cityName:"上海  静安区"},{id:29,cityName:"上海  闸北区"},{id:30,cityName:"上海  卢湾区"},{id:31,cityName:"上海  松江区"},{id:32,cityName:"上海  嘉定区"},{id:33,cityName:"上海  南汇区"},{id:34,cityName:"上海  金山区"},{id:35,cityName:"上海  青浦区"},{id:36,cityName:"上海  奉贤区"},{id:37,cityName:"上海  崇明县"},{id:38,cityName:"天津  和平区"},{id:39,cityName:"天津  河东区"},{id:40,cityName:"天津  河西区"},{id:41,cityName:"天津  南开区"},{id:42,cityName:"天津  河北区"},{id:43,cityName:"天津  红桥区"},{id:44,cityName:"天津  塘沽区"},{id:45,cityName:"天津  汉沽区"},{id:46,cityName:"天津  大港区"},{id:47,cityName:"天津  东丽区"},{id:48,cityName:"天津  西青区"},{id:49,cityName:"天津  津南区"},{id:50,cityName:"天津  北辰区"},{id:51,cityName:"天津  武清区"},{id:52,cityName:"天津  宝坻区"},{id:53,cityName:"天津  宁河县"},{id:54,cityName:"天津  静海县"},{id:55,cityName:"天津  蓟县"},{id:56,cityName:"重庆  万州区"},{id:57,cityName:"重庆  涪陵区"},{id:58,cityName:"重庆  渝中区"},{id:59,cityName:"重庆  大渡口区"},{id:60,cityName:"重庆  江北区"},{id:61,cityName:"重庆  沙坪坝区"},{id:62,cityName:"重庆  九龙坡区"},{id:63,cityName:"重庆  南岸区"},{id:64,cityName:"重庆  北碚区"},{id:65,cityName:"重庆  万盛区"},{id:66,cityName:"重庆  双桥区"},{id:67,cityName:"重庆  渝北区"},{id:68,cityName:"重庆  巴南区"},{id:69,cityName:"重庆  长寿县"},{id:70,cityName:"重庆  綦江县"},{id:71,cityName:"重庆  潼南县"},{id:72,cityName:"重庆  铜梁县"},{id:73,cityName:"重庆  大足县"},{id:74,cityName:"重庆  荣昌县"},{id:75,cityName:"重庆  璧山县"},{id:76,cityName:"重庆  梁平县"},{id:77,cityName:"重庆  城口县"},{id:78,cityName:"重庆  丰都县"},{id:79,cityName:"重庆  垫江县"},{id:80,cityName:"重庆  武隆县"},{id:81,cityName:"重庆  忠县"},{id:82,cityName:"重庆  开县"},{id:83,cityName:"重庆  云阳县"},{id:84,cityName:"重庆  奉节县"},{id:85,cityName:"重庆  巫山县"},{id:86,cityName:"重庆  巫溪县"},{id:87,cityName:"重庆  黔江土家族苗族自治县"},{id:88,cityName:"重庆  石柱土家族自治县"},{id:89,cityName:"重庆  秀山土家族苗族自治县"},{id:90,cityName:"重庆  酉阳土家族苗族自治县"},{id:91,cityName:"重庆  彭水苗族土家族自治县"},{id:92,cityName:"重庆  江津市"},{id:93,cityName:"重庆  合川市"},{id:94,cityName:"重庆  永川市"},{id:95,cityName:"重庆  南川市"},{id:96,cityName:"宁夏  银川市"},{id:97,cityName:"宁夏  石嘴山市"},{id:98,cityName:"宁夏  吴忠市"},{id:99,cityName:"宁夏  固原地区"},{id:100,cityName:"宁夏  中卫市"},{id:101,cityName:"内蒙古 呼和浩特市"},{id:102,cityName:"内蒙古 包头市"},{id:103,cityName:"内蒙古 乌海市"},{id:104,cityName:"内蒙古 赤峰市"},{id:105,cityName:"内蒙古 呼伦贝尔市"},{id:106,cityName:"内蒙古 兴安盟"},{id:107,cityName:"内蒙古 通辽市"},{id:108,cityName:"内蒙古 锡林郭勒盟"},{id:109,cityName:"内蒙古 乌兰察布盟"},{id:110,cityName:"内蒙古 伊克昭盟"},{id:111,cityName:"内蒙古 巴彦淖尔盟"},{id:112,cityName:"内蒙古 阿拉善盟"},{id:113,cityName:"安徽省 合肥市"},{id:114,cityName:"安徽省 芜湖市"},{id:115,cityName:"安徽省 蚌埠市"},{id:116,cityName:"安徽省 淮南市"},{id:117,cityName:"安徽省 马鞍山市"},{id:118,cityName:"安徽省 淮北市"},{id:119,cityName:"安徽省 铜陵市"},{id:120,cityName:"安徽省 安庆市"},{id:121,cityName:"安徽省 黄山市"},{id:122,cityName:"安徽省 滁州市"},{id:123,cityName:"安徽省 阜阳市"},{id:124,cityName:"安徽省 宿州市"},{id:125,cityName:"安徽省 六安市"},{id:126,cityName:"安徽省 宣城市"},{id:127,cityName:"安徽省 巢湖市"},{id:128,cityName:"安徽省 池州市"},{id:129,cityName:"福建省 福州市"},{id:130,cityName:"福建省 厦门市"},{id:131,cityName:"福建省 宁德市"},{id:132,cityName:"福建省 莆田市"},{id:133,cityName:"福建省 泉州市"},{id:134,cityName:"福建省 漳州市"},{id:135,cityName:"福建省 龙岩"},{id:136,cityName:"福建省 三明市"},{id:137,cityName:"福建省 南平市"},{id:138,cityName:"甘肃省 兰州市"},{id:139,cityName:"甘肃省 嘉峪关市"},{id:140,cityName:"甘肃省 金昌市"},{id:141,cityName:"甘肃省 白银市"},{id:142,cityName:"甘肃省 天水市"},{id:143,cityName:"甘肃省 酒泉地区"},{id:144,cityName:"甘肃省 张掖地区"},{id:145,cityName:"甘肃省 武威地区"},{id:146,cityName:"甘肃省 定西地区"},{id:147,cityName:"甘肃省 陇南地区"},{id:148,cityName:"甘肃省 平凉地区"},{id:149,cityName:"甘肃省 庆阳地区"},{id:150,cityName:"甘肃省 临夏回族自治州"},{id:151,cityName:"甘肃省 甘南藏族自治州"},{id:152,cityName:"广东省 广州市"},{id:153,cityName:"广东省 韶关市"},{id:154,cityName:"广东省 深圳市"},{id:155,cityName:"广东省 珠海市"},{id:156,cityName:"广东省 汕头市"},{id:157,cityName:"广东省 佛山市"},{id:158,cityName:"广东省 江门市"},{id:159,cityName:"广东省 湛江市"},{id:160,cityName:"广东省 茂名市"},{id:161,cityName:"广东省 肇庆市"},{id:162,cityName:"广东省 惠州市"},{id:163,cityName:"广东省 梅州市"},{id:164,cityName:"广东省 汕尾市"},{id:165,cityName:"广东省 河源市"},{id:166,cityName:"广东省 阳江市"},{id:167,cityName:"广东省 清远市"},{id:168,cityName:"广东省 潮州市"},{id:169,cityName:"广东省 揭阳市"},{id:170,cityName:"广东省 云浮市"},{id:171,cityName:"广东省 东莞市"},{id:172,cityName:"广东省 中山市"},{id:173,cityName:"广西省 南宁市"},{id:174,cityName:"广西省 柳州市"},{id:175,cityName:"广西省 桂林市"},{id:176,cityName:"广西省 梧州市"},{id:177,cityName:"广西省 北海市"},{id:178,cityName:"广西省 防城港市"},{id:179,cityName:"广西省 钦州市"},{id:180,cityName:"广西省 贵港市"},{id:181,cityName:"广西省 玉林市"},{id:182,cityName:"广西省 崇左市"},{id:183,cityName:"广西省 来宾市"},{id:184,cityName:"广西省 贺州市"},{id:185,cityName:"广西省 百色市"},{id:186,cityName:"广西省 河池市"},{id:187,cityName:"贵州省 贵阳市"},{id:188,cityName:"贵州省 六盘水市"},{id:189,cityName:"贵州省 遵义市"},{id:190,cityName:"贵州省 铜仁地区"},{id:191,cityName:"贵州省 黔西南布依族苗族自治州"},{id:192,cityName:"贵州省 毕节地区"},{id:193,cityName:"贵州省 安顺地区"},{id:194,cityName:"贵州省 黔东南苗族侗族自治州"},{id:195,cityName:"贵州省 黔南布依族苗族自治州"},{id:196,cityName:"海南省 海口市"},{id:197,cityName:"海南省 三亚市"},{id:198,cityName:"海南省 文昌市"},{id:199,cityName:"海南省 万宁市"},{id:200,cityName:"海南省 东方市"},{id:201,cityName:"海南省 定安县"},{id:202,cityName:"海南省 屯昌县"},{id:203,cityName:"海南省 澄迈县"},{id:204,cityName:"海南省 临高县"},{id:205,cityName:"海南省 白沙黎族自治县"},{id:206,cityName:"海南省 昌江黎族自治县"},{id:207,cityName:"海南省 乐东黎族自治县"},{id:208,cityName:"海南省 陵水黎族自治县"},{id:209,cityName:"海南省 保亭黎族苗族自治县"},{id:210,cityName:"海南省 琼中黎族苗族自治县"},{id:211,cityName:"海南省 西南中沙群岛办事处"},{id:212,cityName:"河北省 石家庄市"},{id:213,cityName:"河北省 唐山市"},{id:214,cityName:"河北省 秦皇岛市"},{id:215,cityName:"河北省 邯郸市"},{id:216,cityName:"河北省 邢台市"},{id:217,cityName:"河北省 保定市"},{id:218,cityName:"河北省 张家口市"},{id:219,cityName:"河北省 承德市"},{id:220,cityName:"河北省 沧州市"},{id:221,cityName:"河北省 廊坊市"},{id:222,cityName:"河北省 衡水市"},{id:223,cityName:"河南省 郑州市"},{id:224,cityName:"河南省 开封市"},{id:225,cityName:"河南省 洛阳市"},{id:226,cityName:"河南省 平顶山市"},{id:227,cityName:"河南省 安阳市"},{id:228,cityName:"河南省 鹤壁市"},{id:229,cityName:"河南省 新乡市"},{id:230,cityName:"河南省 焦作市"},{id:231,cityName:"河南省 濮阳市"},{id:232,cityName:"河南省 许昌市"},{id:233,cityName:"河南省 漯河市"},{id:234,cityName:"河南省 三门峡市"},{id:235,cityName:"河南省 南阳市"},{id:236,cityName:"河南省 商丘市"},{id:237,cityName:"河南省 信阳市"},{id:238,cityName:"河南省 周口市"},{id:239,cityName:"河南省 济源市"},{id:240,cityName:"河南省 驻马店地区"},{id:241,cityName:"黑龙江 哈尔滨市"},{id:242,cityName:"黑龙江 齐齐哈尔市"},{id:243,cityName:"黑龙江 鸡西市"},{id:244,cityName:"黑龙江 鹤岗市"},{id:245,cityName:"黑龙江 双鸭山市"},{id:246,cityName:"黑龙江 大庆市"},{id:247,cityName:"黑龙江 伊春市"},{id:248,cityName:"黑龙江 七台河市"},{id:249,cityName:"黑龙江 牡丹江市"},{id:250,cityName:"黑龙江 黑河市"},{id:251,cityName:"黑龙江 绥化市"},{id:252,cityName:"黑龙江 大兴安岭地区"},{id:253,cityName:"湖北省 武汉市"},{id:254,cityName:"湖北省 黄石市"},{id:255,cityName:"湖北省 十堰市"},{id:256,cityName:"湖北省 宜昌市"},{id:257,cityName:"湖北省 襄樊市"},{id:258,cityName:"湖北省 鄂州市"},{id:259,cityName:"湖北省 荆门市"},{id:260,cityName:"湖北省 孝感市"},{id:261,cityName:"湖北省 荆州市"},{id:262,cityName:"湖北省 黄冈市"},{id:263,cityName:"湖北省 咸宁市"},{id:264,cityName:"湖北省 恩施土家族苗族自治州"},{id:265,cityName:"湖北省 仙桃市"},{id:266,cityName:"湖北省 潜江市"},{id:267,cityName:"湖北省 天门市"},{id:268,cityName:"湖北省 神农架林区"},{id:269,cityName:"湖南省 长沙市"},{id:270,cityName:"湖南省 株洲市"},{id:271,cityName:"湖南省 湘潭市"},{id:272,cityName:"湖南省 衡阳市"},{id:273,cityName:"湖南省 邵阳市"},{id:274,cityName:"湖南省 岳阳市"},{id:275,cityName:"湖南省 常德市"},{id:276,cityName:"湖南省 张家界市"},{id:277,cityName:"湖南省 益阳市"},{id:278,cityName:"湖南省 郴州市"},{id:279,cityName:"湖南省 永州市"},{id:280,cityName:"湖南省 怀化市"},{id:281,cityName:"湖南省 娄底地区"},{id:282,cityName:"湖南省 湘西土家族苗族自治州"},{id:283,cityName:"吉林省 长春市"},{id:284,cityName:"吉林省 吉林市"},{id:285,cityName:"吉林省 四平市"},{id:286,cityName:"吉林省 辽源市"},{id:287,cityName:"吉林省 通化市"},{id:288,cityName:"吉林省 白山市"},{id:289,cityName:"吉林省 松原市"},{id:290,cityName:"吉林省 白城市"},{id:291,cityName:"吉林省 延边朝鲜族自治州"},{id:292,cityName:"江苏省 南京市"},{id:293,cityName:"江苏省 无锡市"},{id:294,cityName:"江苏省 徐州市"},{id:295,cityName:"江苏省 常州市"},{id:296,cityName:"江苏省 苏州市"},{id:297,cityName:"江苏省 南通市"},{id:298,cityName:"江苏省 连云港市"},{id:299,cityName:"江苏省 淮阴市"},{id:300,cityName:"江苏省 盐城市"},{id:301,cityName:"江苏省 扬州市"},{id:302,cityName:"江苏省 镇江市"},{id:303,cityName:"江苏省 泰州市"},{id:304,cityName:"江苏省 宿迁市"},{id:305,cityName:"江西省 南昌市"},{id:306,cityName:"江西省 景德镇市"},{id:307,cityName:"江西省 萍乡市"},{id:308,cityName:"江西省 九江市"},{id:309,cityName:"江西省 新余市"},{id:310,cityName:"江西省 鹰潭市"},{id:311,cityName:"江西省 赣州市"},{id:312,cityName:"江西省 宜春市"},{id:313,cityName:"江西省 上饶市"},{id:314,cityName:"江西省 吉安市"},{id:315,cityName:"江西省 抚州市"},{id:316,cityName:"辽宁省 大连市"},{id:317,cityName:"辽宁省 鞍山市"},{id:318,cityName:"辽宁省 抚顺市"},{id:319,cityName:"辽宁省 本溪市"},{id:320,cityName:"辽宁省 丹东市"},{id:321,cityName:"辽宁省 锦州市"},{id:322,cityName:"辽宁省 营口市"},{id:323,cityName:"辽宁省 阜新市"},{id:324,cityName:"辽宁省 辽阳市"},{id:325,cityName:"辽宁省 盘锦市"},{id:326,cityName:"辽宁省 铁岭市"},{id:327,cityName:"辽宁省 朝阳市"},{id:328,cityName:"辽宁省 葫芦岛市"},{id:329,cityName:"青海省 西宁市"},{id:330,cityName:"青海省 海东地区"},{id:331,cityName:"青海省 海北藏族自治州"},{id:332,cityName:"青海省 黄南藏族自治州"},{id:333,cityName:"青海省 海南藏族自治州"},{id:334,cityName:"青海省 果洛藏族自治州"},{id:335,cityName:"青海省 玉树藏族自治州"},{id:336,cityName:"青海省 海西蒙古族藏族自治州"},{id:337,cityName:"山东省 济南市"},{id:338,cityName:"山东省 青岛市"},{id:339,cityName:"山东省 淄博市"},{id:340,cityName:"山东省 枣庄市"},{id:341,cityName:"山东省 东营市"},{id:342,cityName:"山东省 烟台市"},{id:343,cityName:"山东省 潍坊市"},{id:344,cityName:"山东省 济宁市"},{id:345,cityName:"山东省 泰安市"},{id:346,cityName:"山东省 威海市"},{id:347,cityName:"山东省 日照市"},{id:348,cityName:"山东省 莱芜市"},{id:349,cityName:"山东省 临沂市"},{id:350,cityName:"山东省 德州市"},{id:351,cityName:"山东省 聊城市"},{id:352,cityName:"山东省 滨州市"},{id:353,cityName:"山东省 菏泽市"},{id:354,cityName:"山西省 太原市"},{id:355,cityName:"山西省 大同市"},{id:356,cityName:"山西省 阳泉市"},{id:357,cityName:"山西省 长治市"},{id:358,cityName:"山西省 晋城市"},{id:359,cityName:"山西省 朔州市"},{id:360,cityName:"山西省 忻州市"},{id:361,cityName:"山西省 吕梁市"},{id:362,cityName:"山西省 晋中市"},{id:363,cityName:"山西省 临汾市"},{id:364,cityName:"山西省 运城市"},{id:365,cityName:"陕西省 西安市"},{id:366,cityName:"陕西省 铜川市"},{id:367,cityName:"陕西省 宝鸡市"},{id:368,cityName:"陕西省 咸阳市"},{id:369,cityName:"陕西省 渭南市"},{id:370,cityName:"陕西省 延安市"},{id:371,cityName:"陕西省 汉中市"},{id:372,cityName:"陕西省 安康地区"},{id:373,cityName:"陕西省 商洛地区"},{id:374,cityName:"陕西省 榆林地区"},{id:375,cityName:"四川省 成都市"},{id:376,cityName:"四川省 自贡市"},{id:377,cityName:"四川省 攀枝花市"},{id:378,cityName:"四川省 泸州市"},{id:379,cityName:"四川省 德阳市"},{id:380,cityName:"四川省 绵阳市"},{id:381,cityName:"四川省 广元市"},{id:382,cityName:"四川省 遂宁市"},{id:383,cityName:"四川省 内江市"},{id:384,cityName:"四川省 乐山市"},{id:385,cityName:"四川省 南充市"},{id:386,cityName:"四川省 宜宾市"},{id:387,cityName:"四川省 广安市"},{id:388,cityName:"四川省 达川地区"},{id:389,cityName:"四川省 雅安地区"},{id:390,cityName:"四川省 阿坝藏族羌族自治州"},{id:391,cityName:"四川省 甘孜藏族自治州"},{id:392,cityName:"四川省 凉山彝族自治州"},{id:393,cityName:"四川省 巴中地区"},{id:394,cityName:"四川省 眉山地区"},{id:395,cityName:"四川省 资阳地区"},{id:396,cityName:"云南省 昆明市"},{id:397,cityName:"云南省 曲靖市"},{id:398,cityName:"云南省 玉溪市"},{id:399,cityName:"云南省 昭通地区"},{id:400,cityName:"云南省 楚雄彝族自治州"},{id:401,cityName:"云南省 红河哈尼族彝族自治州"},{id:402,cityName:"云南省 文山壮族苗族自治州"},{id:403,cityName:"云南省 思茅市"},{id:404,cityName:"云南省 西双版纳傣族自治州"},{id:405,cityName:"云南省 大理白族自治州"},{id:406,cityName:"云南省 保山地区"},{id:407,cityName:"云南省 德宏傣族景颇族自治州"},{id:408,cityName:"云南省 丽江地区"},{id:409,cityName:"云南省 怒江傈僳族自治州"},{id:410,cityName:"云南省 迪庆藏族自治州"},{id:411,cityName:"云南省 临沧地区"},{id:412,cityName:"浙江省 杭州市"},{id:413,cityName:"浙江省 宁波市"},{id:414,cityName:"浙江省 温州市"},{id:415,cityName:"浙江省 嘉兴市"},{id:416,cityName:"浙江省 湖州市"},{id:417,cityName:"浙江省 绍兴市"},{id:418,cityName:"浙江省 金华市"},{id:419,cityName:"浙江省 衢州市"},{id:420,cityName:"浙江省 舟山市"},{id:421,cityName:"浙江省 台州市"},{id:422,cityName:"浙江省 丽水市"},{id:423,cityName:"西藏  拉萨市"},{id:424,cityName:"西藏  昌都地区"},{id:425,cityName:"西藏  山南地区"},{id:426,cityName:"西藏  日喀则地区"},{id:427,cityName:"西藏  那曲地区"},{id:428,cityName:"西藏  阿里地区"},{id:429,cityName:"西藏  林芝地区"},{id:430,cityName:"新疆  乌鲁木齐市"},{id:431,cityName:"新疆  克拉玛依市"},{id:432,cityName:"新疆  吐鲁番地区"},{id:433,cityName:"新疆  哈密地区"},{id:434,cityName:"新疆  昌吉回族自治州"},{id:435,cityName:"新疆  博尔塔拉蒙古自治州"},{id:436,cityName:"新疆  巴音郭楞蒙古自治州"},{id:437,cityName:"新疆  阿克苏地区"},{id:438,cityName:"新疆  克孜勒苏柯尔克孜自治州"},{id:439,cityName:"新疆  喀什地区"},{id:440,cityName:"新疆  和田地区"},{id:441,cityName:"新疆  伊犁哈萨克自治州"},{id:442,cityName:"新疆  塔城地区"},{id:443,cityName:"新疆  阿勒泰地区"},{id:444,cityName:"新疆  石河子市"},{id:445,cityName:"新疆  阿拉尔市"},{id:446,cityName:"新疆  图木舒克市"},{id:447,cityName:"新疆  五家渠市"}],c=_.find(b,function(b){return b.id===a});return c?c.cityName:"上海"}}).filter("resultText",function(){return function(a){if(!isFinite(a))return a;switch(a){case 1:return"交易成功";case-1:return"交易失败";default:return"交易中"}}}).filter("time",function(){return function(a){return void 0===a||null===a||""===a?"":moment(a).format("YYYY年MM月DD日")}}).filter("longTime",function(){return function(a){return void 0===a||null===a||""===a?"":moment(a).format("YYYY-MM-DD HH:mm")}}).filter("tradeForSettle",function(){return function(a){return isFinite(a)?0===a?"充值":"取现":a}}).filter("tradeForJBY",function(){return function(a){return isFinite(a)?0===a?"申购":"赎回":a}}).filter("tradeCodeForSettle",function(){return function(a){if(!isFinite(a))return a;switch(a){case 1005051001:return"账户充值";case 1005011101:return"账户冲正";case 1005011103:return"金包银赎回";case 1005011104:return"理财本金返还";case 1005021104:return"理财本金返还";case 1005011105:return"理财利息入账";case 1005021105:return"理财利息入账";case 1005052001:return"账户取现";case 1005012101:return"账户冲正";case 1005012003:return"金包银申购";case 1005012004:return"购买理财产品";case 1005022004:return"购买理财产品";case 1005012102:return"取现手续费";default:return"未知交易"}}}).filter("tradeCodeForJBY",function(){return function(a){if(!isFinite(a))return a;switch(a){case 2001011101:return"账户冲正";case 2001012101:return"账户冲正";case 2001051102:return"金包银申购";case 2001012002:return"金包银赎回";case 2001011106:return"金包银利息复投";default:return"未知交易"}}}),angular.module("jym.interceptors",["jym.services"]).factory("globalInterceptor",["$q","$rootScope","$timeout","$injector","APP",function(a,b,c,d,e){var f=d.get("JYMAuthService");return{request:function(a){return a.headers["x-jym-auth"]=f.getToken(),a.url.indexOf("publicfiles")>=0?a.headers["x-jym-corsproxy-url"]=e.CONFIGURL:a.headers["x-jym-corsproxy-url"]=e.APIURL,a},requestError:function(c){return b.$broadcast("http:requestError"),a.reject(c)},response:function(a){return a.headers()["x-jym-auth"]&&f.setToken(a.headers()["x-jym-auth"]),a},responseError:function(c){var e=d.get("$state"),g=d.get("$ionicHistory"),h=d.get("$ionicLoading");if(c.status>=400&&c.status<500&&c.data.message){var i=c.data.message.split(":"),j=i[i.length-1];h.show({template:j,duration:3e3,hideOnStateChange:!0})}return(401===c.status||403===c.status)&&(f.clearToken(),g.nextViewOptions({disableBack:!0}),e.go("jym.user-login",{backState:e.current.name})),c.status>=500&&b.$broadcast("http:responseError-500"),a.reject(c)}}}]).factory("loadingInterceptor",["$rootScope",function(a){return{request:function(b){return a.$broadcast("loading:show"),b},response:function(b){return a.$broadcast("loading:hide"),b}}}]),angular.module("jym.services",["ngAnimate","angular-cache"]).service("JYMAuthService",["JYMCacheService",function(a){var b=this,c=a.get("authTokenCache");b.clearToken=function(){c.removeAll()},b.getToken=function(){return c.get("auth")||""},b.setToken=function(a){a&&c.put("auth",a)}}]).service("JYMCacheService",["CacheFactory",function(a){var b=this;a("configCache",{maxAge:9e5,deleteOnExpire:"aggressive",storageMode:"localStorage"}),a("authTokenCache",{maxAge:31536e6,deleteOnExpire:"aggressive",storageMode:"localStorage"}),a("productCache",{maxAge:6e4,deleteOnExpire:"aggressive",storageMode:"memory"}),a("userCache",{maxAge:5e3,deleteOnExpire:"aggressive",storageMode:"memory"}),b.get=function(b,c,d){return c=c||6e4,d=d||"memory",a.get(b)||a(b,{maxAge:c,deleteOnExpire:"aggressive",storageMode:d}),a.get(b)}}]).service("JYMConfigService",["$http","$q","URLS","JYMCacheService",function(a,b,c,d){function e(a){return ionic.Platform.isIOS()?a.data.ios:ionic.Platform.isAndroid()?a.data.android:a.data.web}var f=this;f.getConfig=function(){return a.get(c.CONFIG.FETCH,{cache:d.get("configCache")}).then(e)},f.getSlidesConfig=function(){var a=function(a){return a.slides};return f.getConfig().then(a)}}]).service("JYMUtilityService",["$state","$timeout","$ionicLoading","$ionicHistory","$cordovaInAppBrowser","$cordovaToast","REGEX",function(a,b,c,d,e,f,g){var h=this;h.go=function(b,c,d){a.go(b,c,d)},h.goWithDisableBack=function(b,c,e){d.nextViewOptions({disableBack:!0}),a.go(b,c,e)},h.isUrl=function(a){return g.URL.test(a)},h.open=function(b){h.isUrl(b)?e.open(b,"_blank"):a.go(b)},h.showAlert=function(a){c.show({template:a,duration:3e3,hideOnStateChange:!0})}}]),angular.module("jym.templates",["app/common/templates/index-slide-box.tpl.html","app/index.tpl.html","app/jinbaoyin/detail/detail.tpl.html","app/jinbaoyin/index.tpl.html","app/jinbaoyin/purchase/purchase.tpl.html","app/misc/agreement_modal.tpl.html","app/shangpiao/detail/detail.tpl.html","app/shangpiao/index.tpl.html","app/shangpiao/purchase/purchase.tpl.html","app/user/about/about.tpl.html","app/user/bank-card/add/add.tpl.html","app/user/bank-card/add/bankSelector.tpl.html","app/user/bank-card/add/methodSelector.tpl.html","app/user/bank-card/bank-card.tpl.html","app/user/bank-card/detail/detail.tpl.html","app/user/bank-card/upgrade/upgrade.tpl.html","app/user/bank-card/yilian-notice.tpl.html","app/user/index.tpl.html","app/user/jinbaoyin/detail/detail.tpl.html","app/user/jinbaoyin/jinbaoyin.tpl.html","app/user/jinbaoyin/list/list.tpl.html","app/user/jinbaoyin/withdrawal/withdrawal.tpl.html","app/user/login/login.tpl.html","app/user/order/detail/detail.tpl.html","app/user/order/order.tpl.html","app/user/security/password/password.tpl.html","app/user/security/password/sendVeriCode.tpl.html","app/user/security/paymentPassword/paymentPassword.tpl.html","app/user/security/paymentPassword/sendVeriCode.tpl.html","app/user/security/paymentPassword/setPaymentPassword.tpl.html","app/user/security/security.tpl.html","app/user/settle-account/deposit/bank-card-selector.tpl.html","app/user/settle-account/deposit/deposit-success.tpl.html","app/user/settle-account/deposit/deposit.tpl.html","app/user/settle-account/detail/detail.tpl.html","app/user/settle-account/list/list.tpl.html","app/user/settle-account/settle-account.tpl.html","app/user/settle-account/withdrawal/bank-card-selector.tpl.html","app/user/settle-account/withdrawal/withdrawal.tpl.html","app/user/signup/sendVeriCode.tpl.html","app/user/signup/signup.tpl.html","app/yinpiao/detail/detail.tpl.html","app/yinpiao/index.tpl.html","app/yinpiao/purchase/purchase.tpl.html","app/zhuanqu/detail/detail.tpl.html","app/zhuanqu/index.tpl.html","app/zhuanqu/list.tpl.html","app/zhuanqu/purchase/purchase.tpl.html"]),angular.module("app/common/templates/index-slide-box.tpl.html",[]).run(["$templateCache",function(a){a.put("app/common/templates/index-slide-box.tpl.html",'<div ng-controller="SlidesCtrl as ctrl"><ion-slide-box auto-play=true slide-interval=5000 on-slide-changed=ctrl.onSlideChanged() active-slide=ctrl.activeSlideIndex><ion-slide ng-repeat="slide in ctrl.slides"><a ng-click=ctrl.clickSlide(slide.targetUrl)><img ng-src="{{ slide.imageSource }}"></a></ion-slide></ion-slide-box></div>')}]),angular.module("app/index.tpl.html",[]).run(["$templateCache",function(a){a.put("app/index.tpl.html",'<ion-nav-bar align-title=center><ion-nav-back-button></ion-nav-back-button></ion-nav-bar><ion-tabs class="tabs-jym tabs-icon-only"><ion-tab ui-sref=jym.jinbaoyin icon-on=jym-icon-home icon-off=jym-icon-home><ion-nav-view name=jinbaoyin></ion-nav-view></ion-tab><ion-tab ui-sref=jym.zhuanqu icon-on=jym-icon-zhuan icon-off=jym-icon-zhuan><ion-nav-view name=zhuanqu></ion-nav-view></ion-tab><ion-tab ui-sref=jym.yinpiao icon-on=jym-icon-yin icon-off=jym-icon-yin><ion-nav-view name=yinpiao></ion-nav-view></ion-tab><ion-tab ui-sref=jym.shangpiao icon-on=jym-icon-shang icon-off=jym-icon-shang><ion-nav-view name=shangpiao></ion-nav-view></ion-tab><ion-tab ui-sref=jym.user icon-on=jym-icon-user icon-off=jym-icon-user><ion-nav-view name=user></ion-nav-view></ion-tab></ion-tabs>')}]),angular.module("app/jinbaoyin/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/jinbaoyin/detail/detail.tpl.html",'<ion-view title=金包银><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=product.doRefresh()></ion-refresher><ion-list class=order-detail><ion-item><div class=row><div class="col col-50"><div class=center><p>已售出</p><p><span ng-bind=product.viewModel.sellProgress></span><samp>%</samp></p><progress-arc class=circle-progress stroke=#e74c3c size=100 stroke-width=5 complete=product.viewModel.sellProgressInCircleProgress background=#eee></progress-arc></div></div><div class=col><ul><li><samp ng-bind=product.viewModel.yield></samp><span>%</span></li><li class=space></li><li>下一工作日起息</li><li>随存随取 承兑汇票抵押</li></ul></div></div></ion-item></ion-list><div class=card><ion-item class=item-divider><p class=pull-left>剩余份数：<span ng-bind=product.viewModel.remainCount></span> 份（<span ng-bind=product.viewModel.unitPrice></span>元／份）</p></ion-item><ion-item class=item-input-inset><label class=item-input-wrapper><input type=number placeholder=投资份数 ng-model=product.viewModel.investCount required min=1 max=100000000 ng-change=product.investCountChange()> <samp>份</samp></label><button class="button button-small button-assertive" id=btn-narrow ng-bind=product.viewModel.status.buttonText ng-disabled=!product.goPurchaseButtonEnable() ng-click=product.goPurchase()></button></ion-item><ion-item class=item-divider><p class=pull-right>投资金额：<span>&nbsp;</span><span ng-bind=product.viewModel.investAmount></span><span>&nbsp;</span>元</p><p class=pull-right>预计收益（30天）：<span>&nbsp;</span><span ng-bind=product.viewModel.expectedInterest></span><span>&nbsp;</span>元</p></ion-item></div><ion-list><ion-item class=item-divider><p ng-bind=product.viewModel.productTitle class=product-no></p></ion-item><ion-item><p class=pull-left>项目状态</p><p class=pull-right><span ng-bind=product.viewModel.status.text></span></p></ion-item><ion-item><p class=pull-left>项目名称</p><p class=pull-right><span ng-bind=product.viewModel.productName></span></p></ion-item><ion-item><p class=pull-left>项目期数</p><p class=pull-right><span>第&nbsp;</span><span ng-bind=product.viewModel.issueNo></span><span>&nbsp;期</span></p></ion-item><ion-item><p class=pull-left>融资总额</p><p class=pull-right><span ng-bind=product.viewModel.financingSumAmount></span> 万元</p></ion-item><ion-item><p class=pull-left>投资单位</p><p class=pull-right><span ng-bind=product.viewModel.unitPrice></span>元</p></ion-item><ion-item><p class=pull-left>起息日期</p><p class=pull-right><span ng-bind=product.viewModel.valueDateMode></span></p></ion-item></ion-list></ion-content></ion-view>>')}]),angular.module("app/jinbaoyin/index.tpl.html",[]).run(["$templateCache",function(a){a.put("app/jinbaoyin/index.tpl.html",'<ion-view title=金银猫><ion-content id=nonbackcolor><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=product.doRefresh()></ion-refresher><div ng-include="\'app/common/templates/index-slide-box.tpl.html\'"></div><div class="jinbaoyin-index-product padding"><h4 class=padding ng-bind=product.viewModel.title></h4><h5>承兑汇票抵押</h5><strong class=jinbaoyin-yield><em ng-bind=product.viewModel.yield></em><samp>%</samp></strong><div class=clearfix><span><em ng-bind=product.viewModel.unitPrice></em>元起</span> <span>随时存取</span> <span>灵活投资</span></div></div><div class=jym-index-purchase><button class="btn button-action" ui-sref=jym.jinbaoyin-detail>立即抢购</button></div><div class=jym-safe-control><div class=row><div class="col col-33 block-a"><span class=icon-safe-1></span> <em>风险趋零</em></div><div class="col col-33 block-b"><span class=icon-safe-2></span> <em>刚性兑付</em></div><div class="col col-33 block-c"><span class=icon-safe-3></span> <em>双重保障</em></div></div></div></ion-content></ion-view>')}]),angular.module("app/jinbaoyin/purchase/purchase.tpl.html",[]).run(["$templateCache",function(a){a.put("app/jinbaoyin/purchase/purchase.tpl.html",'<ion-view title=金包银认购><ion-content><ion-list class=deposit><ion-item><span class=pull-left>订单金额</span> <span class=pull-right><strong ng-bind=purchase.viewModel.amount></strong>&nbsp;&nbsp;元</span></ion-item></ion-list><ion-list><ion-item class="card deposit"><ion-item class=item><span class=pull-left>账户余额&nbsp;&nbsp;</span> <span class=pull-left><strong ng-bind=purchase.viewModel.balance></strong>&nbsp;&nbsp;元</span> <span class=pull-right ui-sref=jym.user-settle-account-deposit>去充值&nbsp;&nbsp;<i class="icon ion-chevron-right"></i></span></ion-item><label class="item item-input"><span class=input-label>输入密码</span> <input type=password placeholder=请输入您的支付密码 ng-model=purchase.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label></ion-item><div class=narrow><button ng-click=purchase.check()><span><i class="icon ion-android-checkbox-outline-blank" ng-if=!purchase.viewModel.checked></i> <i class="icon ion-android-checkbox-outline" ng-if=purchase.viewModel.checked></i></span> <span>同意</span></button> <span>《</span> <span ng-bind=purchase.viewModel.agreement></span> <span>》</span></div></ion-list><button class="btn button-yellow" ng-disabled=!purchase.purchaseButtonEnable() ng-click=purchase.purchase()>同意协议并付款</button><br><br><h4 id=tel>如有问题，请垂询&nbsp;4008-556-333。</h4></ion-content></ion-view>')}]),angular.module("app/misc/agreement_modal.tpl.html",[]).run(["$templateCache",function(a){a.put("app/misc/agreement_modal.tpl.html","<ion-modal-view><ion-header-bar><h1 class=title ng-bind=title></h1></ion-header-bar><ion-content ng-bind-html=content></ion-content></ion-modal-view>")}]),angular.module("app/shangpiao/detail/detail.tpl.html",[]).run(["$templateCache",function(a){
a.put("app/shangpiao/detail/detail.tpl.html",'<ion-view title=商融保盈><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=product.doRefresh()></ion-refresher><ion-list class=order-detail><ion-item><div class=row><div class="col col-50"><div class=center><p>已售出</p><p><span ng-bind=product.viewModel.sellProgress></span><samp>%</samp></p><progress-arc class=circle-progress stroke=#e74c3c size=100 stroke-width=5 complete=product.viewModel.sellProgressInCircleProgress background=#eee></progress-arc></div></div><div class=col><ul><li><samp ng-bind=product.viewModel.yield></samp><span>%</span></li><li><span ng-bind=product.viewModel.unitPrice></span>元起投</li><li><span ng-bind=product.viewModel.period></span>天</li><li><span ng-bind=product.viewModel.financingSumAmount></span>万元</li></ul></div></div></ion-item></ion-list><div class=card><ion-item class=item-divider><p class=pull-left>剩余份数：<span ng-bind=product.viewModel.remainCount></span>份（<span ng-bind=product.viewModel.unitPrice></span>元／份）</p></ion-item><ion-item class=item-input-inset><label class=item-input-wrapper><input type=number placeholder=投资份数 ng-model=product.viewModel.investCount required min=1 max=100000000 ng-change=product.investCountChange()> <samp>份</samp></label><button class="button button-small button-assertive" id=btn-narrow ng-bind=product.viewModel.status.buttonText ng-click=product.goPurchase() ng-disabled=!product.goPurchaseButtonEnable()></button></ion-item><ion-item class=item-divider><p class=pull-left>投资金额：<span>&nbsp;</span><span ng-bind=product.viewModel.investAmount></span><span>&nbsp;</span>元</p><p class=pull-right>预计收益：<span>&nbsp;</span><span ng-bind=product.viewModel.expectedInterest></span><span>&nbsp;</span>元</p></ion-item></div><ion-list><ion-item class=item-divider><p ng-bind=product.viewModel.productNo class=product-no></p></ion-item><ion-item><p class=pull-left>项目状态</p><p class=pull-right><span ng-bind=product.viewModel.status.text></span></p></ion-item><ion-item><p class=pull-left>项目名称</p><p class=pull-right><span ng-bind=product.viewModel.productName></span></p></ion-item><ion-item><p class=pull-left>项目期数</p><p class=pull-right><span>第&nbsp;</span><span ng-bind=product.viewModel.issueNo></span><span>&nbsp;期</span></p></ion-item><ion-item><p class=pull-left>项目类型</p><p class=pull-right><span ng-bind=product.viewModel.riskManagementMode></span></p></ion-item><ion-item><p class=pull-left>融资总额</p><p class=pull-right><span ng-bind=product.viewModel.financingSumAmount></span> 万元</p></ion-item><ion-item><p class=pull-left>投资单位</p><p class=pull-right><span ng-bind=product.viewModel.unitPrice></span>元</p></ion-item><ion-item><p class=pull-left>起息日期</p><p class=pull-right><span ng-bind=product.viewModel.valueDateText></span></p></ion-item><ion-item><p class=pull-left>结息日期</p><p class=pull-right><span ng-bind="product.viewModel.settleDate | time"></span></p></ion-item><ion-item><p class=pull-left>最迟还款日</p><p class=pull-right><span ng-bind="product.viewModel.repaymentDeadline | time"></span></p></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/shangpiao/index.tpl.html",[]).run(["$templateCache",function(a){a.put("app/shangpiao/index.tpl.html",'<ion-view title=商融保盈><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=products.doRefresh()></ion-refresher><ion-list><div ng-repeat="item in products.viewModel.items"><ion-item ui-sref="jym.shangpiao-detail({ productIdentifier: item.productIdentifier })"><div class=row><div class="col col-33"><em ng-bind=item.yield></em><samp>%</samp><li class=jqm-prd-period><span ng-bind=item.period></span><samp>&nbsp;天</samp></li><li class=jqm-min-price><span ng-bind=item.unitPrice></span><samp>&nbsp;元起</samp></li><li class=jqm-prd-price><span ng-bind=item.financingSumAmount></span><samp>&nbsp;万</samp></li></div><div class="col col-67"><li ng-bind=item.productName></li><div class=detail><li class=saleStatus ng-bind=item.statusText ng-class="item.statusTextClass "></li><li ng-bind=item.timeText></li><li ng-bind=item.riskManagement></li></div></div></div></ion-item><ion-item class=divider></ion-item></div></ion-list><ion-infinite-scroll ng-if=products.moreDataCanBeLoaded() on-infinite=products.loadMoreData() distance=1% spinner=spiral></ion-infinite-scroll></ion-content></ion-view>')}]),angular.module("app/shangpiao/purchase/purchase.tpl.html",[]).run(["$templateCache",function(a){a.put("app/shangpiao/purchase/purchase.tpl.html",'<ion-view title=确认购买><ion-content class=has-header><ion-list class=deposit><ion-item><span class=pull-left>订单金额</span> <span class=pull-right><strong ng-bind=purchase.viewModel.amount></strong> &nbsp;元</span></ion-item></ion-list><ion-list><ion-item class="card deposit"><ion-item class=item><span class=pull-left>账户余额&nbsp;&nbsp;</span> <span class=pull-left><strong ng-bind=purchase.viewModel.balance></strong> &nbsp;&nbsp;元</span> <span class=pull-right ui-sref=jym.user-settle-account-deposit>去充值 &nbsp;&nbsp;<i class="icon ion-chevron-right"></i></span></ion-item><label class="item item-input"><span class=input-label>输入密码</span> <input type=password placeholder=请输入您的支付密码 ng-bind=purchase.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label></ion-item><div class=narrow><button ng-click=purchase.check()><span><i class="icon ion-android-checkbox-outline-blank" ng-if=!purchase.viewModel.checked></i> <i class="icon ion-android-checkbox-outline" ng-if=purchase.viewModel.checked></i></span> <span>同意</span></button> <span>《</span> <span ng-bind=purchase.viewModel.agreement2></span> <span>》</span> <span>及</span> <span>《</span> <span ng-bind=purchase.viewModel.agreement1></span> <span>》</span></div></ion-list><button class="btn button-yellow" ng-disabled=!purchase.purchaseButtonEnable() ng-click=purchase.purchase()>同意协议并付款</button><br><br><h4 id=tel>如有问题，请垂询&nbsp;4008-556-333。</h4></ion-content></ion-view>')}]),angular.module("app/user/about/about.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/about/about.tpl.html","<ion-view title=关于金银猫><ion-content><ion-list><ion-item><p class=pull-left>公司网站</p><p class=pull-right>www.jinyinmao.com.cn</p></ion-item><ion-item><p class=pull-left>客服热线</p><p class=pull-right>4008-556-333</p></ion-item><ion-item><p class=pull-left>新浪微博</p><p class=pull-right>金银猫</p></ion-item><ion-item><p class=pull-left>微信服务号</p><p class=pull-right>金银猫服务号</p></ion-item></ion-list></ion-content></ion-view>")}]),angular.module("app/user/bank-card/add/add.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/add/add.tpl.html",'<ion-view title=添加银行卡><ion-content><div ng-if=card.viewModel.hasSetPaymentPassword><ion-list><label class="item item-input"><span class=input-label>手机</span> <input type=text placeholder=请输入手机号码 required minlength=11 maxlength=11 ng-model=card.viewModel.cellphone readonly="readonly"></label><label class="item item-input"><span class=input-label>姓名</span> <input type=text placeholder=请输入姓名 required minlength=2 maxlength=30 ng-model=card.viewModel.realName ng-readonly="card.viewModel.verified"></label><label class="item item-input"><span class=input-label>身份证</span> <input type=text placeholder=请输入18位身份证号 required minlength=5 maxlength=18 ng-model=card.viewModel.credentialNo ng-readonly="card.viewModel.verified"></label><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>卡号</span> <input type=text placeholder=请输入借记卡号 required minlength=15 maxlength=19 ng-model="card.viewModel.bankCardNo"></label><ion-item class="item-thumbnail-left bank-card item-icon-right" ui-sref=jym.user-bank-card-add-bank-selector><img ng-src="{{ card.viewModel.bankName | bankImg }}"><h2 ng-bind=card.viewModel.bankName></h2><i class="icon ion-chevron-right"></i></ion-item></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-disabled=!card.buttonEnable() ng-click=card.verify() ng-if=card.viewModel.hasSetPaymentPassword>认证银行卡</button><p class=attention ng-if=card.viewModel.hasSetPaymentPassword>认证时会从卡内试扣1.08元，认证结束后即归还原卡。请保持身份信息与该银行卡开户信息一致，否则将认证失败。</p></div><div ng-if=!card.viewModel.hasSetPaymentPassword><div class=space></div><div class=space></div><div class=space></div><div class=space></div><button class="btn button-yellow" ui-sref=jym.user-security-set-payment-password ng-if=!card.viewModel.hasSetPaymentPassword>设置支付密码</button><p class=attention>为保证您能够正常使用支付功能，请先设置支付密码。</p></div></ion-content></ion-view>')}]),angular.module("app/user/bank-card/add/bankSelector.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/add/bankSelector.tpl.html",'<ion-view title=选择开户行><ion-content><ion-list class=bank-card><ion-item ng-repeat="item in ctrl.items" class="item-thumbnail-left item-icon-right" ng-click=ctrl.select(item)><img ng-src="{{ item | bankImg }}"><h1 ng-bind=item></h1></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/bank-card/add/methodSelector.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/add/methodSelector.tpl.html",'<ion-view title=选择支付方式><ion-content><div class=space></div><div class=space></div><div class=space></div><button class="btn button-yellow" ui-sref=jym.user-bank-card-add>签约支付</button><div class=space></div><div class=space></div><button class="btn button-grey" disabled=disabled>短信支付验证(敬请期待)</button><p class=attention>认证时会从卡内试扣1.08元，认证结束后即归还原卡。请保持身份信息与该银行卡开户信息一致，否则将认证失败。</p></ion-content></ion-view>')}]),angular.module("app/user/bank-card/bank-card.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/bank-card.tpl.html",'<ion-view title=我的银行卡><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=cards.doRefresh()></ion-refresher><ion-list class=bank-card><ion-item ng-repeat="item in cards.viewModel.items" class="item-thumbnail-left item-icon-right" ui-sref="jym.user-bank-card-detail({ bankCardNo: item.bankCardNo })"><img ng-src="{{ item.bankName | bankImg }}"><h2 ng-bind=item.bankName></h2><p class=pull-right ng-bind="item | bankCardStatus"></p><p>尾号 <em ng-bind=item.bankCardNo.substr(-4)></em></p><i class="icon ion-chevron-right"></i></ion-item></ion-list><ion-list class=plus-card ng-if=cards.showAddButton()><ion-item ui-sref=jym.user-bank-card-add-method-selector><i class="icon ion-ios-plus-outline"></i> <span>添加新银行卡</span></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/bank-card/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/detail/detail.tpl.html",'<ion-view title=我的银行卡><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=card.doRefresh()></ion-refresher><ion-list class="bank-card detail"><ion-item class=item-thumbnail-left><img ng-src="{{ card.viewModel.bankName | bankImg }}"><h2 ng-bind=card.viewModel.bankName></h2><span class=pull-right ng-bind="card.viewModel | bankCardStatus"></span><p>尾号 <em ng-bind=card.viewModel.bankCardNo.substr(-4)></em></p></ion-item></ion-list><br><button class="btn button-yellow" ng-if=!card.viewModel.verifiedByYilian ui-sref="jym.user-bank-card-upgrade({ bankCardNo: card.viewModel.bankCardNo })">升级签约支付</button><div class=space></div><div class=space></div><button class="btn button-yellow" ng-click=card.removeCard()>删除银行卡</button></ion-content></ion-view>')}]),angular.module("app/user/bank-card/upgrade/upgrade.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/upgrade/upgrade.tpl.html",'<ion-view title=认证银行卡><ion-content><ion-list><label class="item item-input"><span class=input-label>手机</span> <input type=text placeholder=请输入手机号码 required minlength=11 maxlength=11 ng-model=card.viewModel.cellphone readonly="readonly"></label><label class="item item-input"><span class=input-label>姓名</span> <input type=text placeholder=请输入姓名 required minlength=2 maxlength=30 ng-model=card.viewModel.realName ng-readonly="card.viewModel.verified"></label><label class="item item-input"><span class=input-label>身份证</span> <input type=text placeholder=请输入18位身份证号 required minlength=5 maxlength=18 ng-model=card.viewModel.credentialNo ng-readonly="card.viewModel.verified"></label><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>卡号</span> <input type=text placeholder=请输入借记卡号 required minlength=15 maxlength=19 ng-model=card.viewModel.bankCardNo readonly="readonly"></label><ion-item class="bank-card item-thumbnail-left"><img ng-src="{{ card.viewModel.bankName | bankImg }}"><h2 ng-bind=card.viewModel.bankName></h2></ion-item></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-disabled=!card.buttonEnable() ng-click=card.verify()>认证银行卡</button><p class=attention>认证时会从卡内试扣1.08元，认证结束后即归还原卡。请保持身份信息与该银行卡开户信息一致，否则将认证失败。</p></ion-content></ion-view>')}]),angular.module("app/user/bank-card/yilian-notice.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/bank-card/yilian-notice.tpl.html",'<ion-view title=认证受理中><ion-content><div id=yilian-notice><h2>请求已受理</h2><p>在十分钟之内您可能会接到银联（广州）来电。号码为020-96585.</p><p>请您配合语音提示进行操作</p><p>如您没有接到此来电，则会绑定失败。</p><div class=space></div><p>认证流程可能会需要长达十分钟的时间，请您耐心等待。</p><i class="icon ion-ios-information"></i> <span>成功之后就可以购买啦！</span><div class=space></div></div><div class=space></div><button class="btn button-yellow" ng-click="ctrl.go(\'jym.user\')">返回个人中心</button></ion-content></ion-view>')}]),angular.module("app/user/index.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/index.tpl.html",'<ion-view title=我的金银猫><ion-content id=user-index><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=user.doRefresh()></ion-refresher><ion-list><ion-item><p class=pull-left>手机号</p><p class=pull-right ng-bind=user.viewModel.cellphone></p></ion-item><ion-item><p class=pull-left>真实姓名</p><p class=pull-right ng-bind=user.viewModel.realName></p></ion-item><ion-item><p class=pull-left>身份证</p><p class=pull-right ng-bind=user.viewModel.credentialNo></p></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right ui-sref=jym.user-settle-account><p>资金账户</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ui-sref=jym.user-jinbaoyin><p>金包银账户</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ui-sref=jym.user-orders><p>我的订单</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ui-sref=jym.user-bank-card><p>我的银行卡</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right ui-sref=jym.user-security><p>密码设置</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right ng-href=https://appsto.re/cn/8GL8X.i><p>喵喵求鼓励</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ui-sref=jym.user-about><p>关于金银猫</p><i class="icon ion-chevron-right"></i></ion-item></ion-list><br><button class="btn button-grey" ng-click=user.loginOut()>登出</button></ion-content></ion-view>')}]),angular.module("app/user/jinbaoyin/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/jinbaoyin/detail/detail.tpl.html",'<ion-view title=金包银流水记录><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=transaction.doRefresh()></ion-refresher><ion-content><ion-list class=reorder><ion-item><p class=pull-left>交易时间</p><p class=pull-right ng-bind="transaction.viewModel.transactionTime | longTime"></p></ion-item><ion-item ng-if="transaction.viewModel.resultCode === 0"><p class=pull-left>预计完成日期</p><p class=pull-right ng-bind="transaction.viewModel.predeterminedResultDate | time"></p></ion-item><ion-item ng-if="transaction.viewModel.resultCode === 1"><p class=pull-left>完成时间</p><p class=pull-right ng-bind="transaction.viewModel.resultTime | longTime"></p></ion-item><ion-item class=nonborder><p class=pull-left>交易类型</p><p class=pull-right ng-bind="transaction.viewModel.tradeCode | tradeCodeForSettle"></p></ion-item><ion-item><p class=pull-left>金额（元）</p><p class=pull-right><span class=plus ng-if="transaction.viewModel.trade === 0">+</span> <span class=minus ng-if="transaction.viewModel.trade === 1">-</span> <span ng-bind=transaction.viewModel.amount></span></p></ion-item><ion-item><p class=pull-left>备注说明</p><p class=pull-right ng-bind=transaction.viewModel.transDesc></p></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right><p>协议</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=divider></ion-item><ion-item><p class=pull-left>状态</p><p class=pull-right ng-bind="transaction.viewModel.resultCode | resultText" ng-style=transaction.viewModel.resultStyle></p></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/jinbaoyin/jinbaoyin.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/jinbaoyin/jinbaoyin.tpl.html",'<ion-view title=金包银><ion-content><ion-list class=jbyaccount ui-sref=jym.user-jinbaoyin-list><ion-item><p>昨日收益（元）</p></ion-item><ion-item class=item-icon-right><h1 ng-bind=ctrl.viewModel.jBYLastInterest></h1><i class="icon ion-chevron-right"></i></ion-item><ion-item><p class=pull-right>累计收益（元）：<span ng-bind=ctrl.viewModel.jBYTotalInterest class=white-span></span></p></ion-item></ion-list><ion-list><ion-item><p class=pull-left>在投资金（元）</p><p class=pull-right ng-bind=ctrl.viewModel.jBYTotalAmount>42355667.12</p></ion-item><ion-item><p class=pull-left>可取现资金（元）</p><p class=pull-right ng-bind=ctrl.viewModel.jBYWithdrawalableAmount>5667.12</p></ion-item><ion-item><p class=pull-left>今日利率</p><p class=pull-right><em ng-bind=ctrl.viewModel.jBYYield></em><span>%</span></p></ion-item></ion-list><br><button class="btn button-grey" ui-sref=jym.userInfo.jbyAccount-withdrawal>提现</button><div class=space></div><button class="btn button-yellow" ui-sref=jym.jinbaoyin>认购</button></ion-content></ion-view>')}]),angular.module("app/user/jinbaoyin/list/list.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/jinbaoyin/list/list.tpl.html",'<ion-view title=金包银明细><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=account.doRefresh()></ion-refresher><ion-list class=jinbaoyin-list><div ng-repeat="item in account.viewModel.items"><ion-item class=item-icon-right ui-sref="jym.user-jinbaoyin-detail({\n        transactionIdentifier: item.transactionIdentifier})"><p><span class=pull-left ng-bind="item.tradeCode | tradeCodeForJBY"></span> <span class=pull-right><span class=plus ng-if="item.trade === 0">+</span> <span class=minus ng-if="item.trade === 1">-</span> <span ng-bind=item.amount></span></span></p><p><span class=pull-left ng-bind="item.resultCode | resultText"></span> <span class=pull-right><span ng-bind="item.transactionTime | time"></span></span></p><i class="icon ion-chevron-right icon-accessory"></i></ion-item><ion-item class=divider></ion-item></div></ion-list><ion-infinite-scroll ng-if=account.moreDataCanBeLoaded() on-infinite=account.loadMoreData() distance=1% spinner=spiral></ion-infinite-scroll></ion-content></ion-view>')}]),angular.module("app/user/jinbaoyin/withdrawal/withdrawal.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/jinbaoyin/withdrawal/withdrawal.tpl.html",'<ion-view title=金包银赎回><ion-content><ion-list class=deposit><ion-item><span class=pull-left>可取资金（元）</span> <span class=pull-right><strong ng-bind=account.viewModel.jBYWithdrawalableAmount></strong></span></ion-item><ion-item class="card deposit"><ion-item class=item><span class=pull-left>今日可申请额度</span> <span class=pull-left ng-bind=account.viewModel.todayJBYWithdrawalableAmount>元</span></ion-item><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>取款金额</span> <input type=number placeholder=请输入取款金额（元） required min=0.01 max=1000000 ng-model=account.viewModel.amount></label><label class="item item-input"><span class=input-label>输入密码</span> <input type=password placeholder=请输入您的支付密码 ng-bind=purchase.viewModel.userPaymentPassword required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label></ion-item><div class="row narrow"><div class="col col-25"><label class="checkbox checkbox-assertive"><input type=checkbox checked=checked> <span>同意</span></label></div><div class="col col-75"><p>《金银猫金包银投资协议》</p></div></div></ion-list><button class="btn button-yellow">同意协议并付款</button><br><br><h4 id=tel>如有问题，请垂询&nbsp;4008-556-333。</h4></ion-content></ion-view>')}]),angular.module("app/user/login/login.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/login/login.tpl.html",'<ion-view title=登录><ion-content><ion-list id=login-card><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>账号</span> <input type=text placeholder=手机号码 ng-model=user.viewModel.cellphone required minlength=11 maxlength=11 ng-pattern="/^(13|14|15|17|18)\\d{9}$/" ng-trim=true></label><label class="item item-input"><span class=input-label>密码</span> <input type=password placeholder=6-18位数字或字母 ng-model=user.viewModel.password required minlength=5 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label></ion-list><div class=space></div><p id=forget-password class=pull-right ui-sref=jym.user-security-password-send-veri-code><i class="icon ion-ios-help-outline"></i>&nbsp;忘记密码</p><div class=space></div><div class=space></div><button class="btn button-yellow" ng-click=user.login() ng-disabled=!user.loginButtonEnable()>登 录</button><div class=space></div><div class=space></div><button class="btn button-yellow" ui-sref=jym.user-signup-send-veri-code>创建金银猫账户</button></ion-content></ion-view>')}]),angular.module("app/user/order/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/order/detail/detail.tpl.html",'<ion-view title=订单详情><ion-content><ion-list class=order-list><ion-item class=item-divider><span>订单号：</span> <samp ng-bind=order.viewModel.orderNo></samp></ion-item><ion-item><p><span class=pull-left>订单金额</span> <span class=pull-right ng-bind=order.viewModel.principal><samp>&nbsp;元</samp></span></p><p><span class=pull-left>预计收益：</span> <span ng-bind=order.viewModel.interest></span> <span ng-if="order.viewModel.extraInterest > 0">&nbsp;&nbsp;&nbsp;+</span> <span ng-if="order.viewModel.extraInterest > 0" ng-bind=order.viewModel.extraInterest></span> <span class=pull-right ng-bind=order.viewModel.statusText></span></p></ion-item><ion-item class=divider></ion-item></ion-list><ion-list class=orderDetail><ion-item><span class=pull-left>项目名称</span> <span class=pull-right ng-bind=order.viewModel.productSnapshot.productTitle></span></ion-item><ion-item><span class=pull-left>项目期数</span> <span class=pull-right ng-bind=order.viewModel.productSnapshot.issueNo></span></ion-item><ion-item><span class=pull-left>投资周期</span> <span class=pull-right ng-bind=order.viewModel.productSnapshot.period></span></ion-item><ion-item><span class=pull-left>起息日期</span> <span class=pull-right ng-bind="order.viewModel.valueDate | time"></span></ion-item><ion-item><span class=pull-left>结息日期</span> <span class=pull-right ng-bind="order.viewModel.settleDate | time"></span></ion-item><ion-item><span class=pull-left>最迟还款日</span> <span class=pull-right ng-bind="order.viewModel.productSnapshot.repaymentDeadline | time"></span></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/order/order.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/order/order.tpl.html",'<ion-view title=订单列表><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=orders.doRefresh()></ion-refresher><ion-list class=order-list><div ng-repeat="item in orders.viewModel.items" ui-sref="jym.user-orders-detail({ orderIdentifier: item.orderIdentifier })"><ion-item class="item-divider item-icon-right"><span>订单号：</span> <samp ng-bind=item.orderNo></samp> <i class="icon ion-chevron-right"></i></ion-item><ion-item><p><span class=pull-left>订单金额</span> <span class=pull-right ng-bind="item.orderTime | longTime"></span></p><p><strong class=pull-left ng-bind=item.principal></strong> <samp>&nbsp;元</samp></p><p><span class=pull-left>预计收益：</span> <span ng-bind=item.interest></span> <span ng-if="item.extraInterest > 0">&nbsp;&nbsp;&nbsp;+</span> <span ng-if="item.extraInterest > 0" ng-bind=item.extraInterest></span> <span class=pull-right ng-bind=item.statusText></span></p></ion-item></div><ion-item class=divider></ion-item></ion-list><ion-infinite-scroll ng-if=orders.moreDataCanBeLoaded() on-infinite=orders.loadMoreData() distance=1% spinner=spiral></ion-infinite-scroll></ion-content></ion-view>')}]),angular.module("app/user/security/password/password.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/security/password/password.tpl.html",'<ion-view title=设置新登录密码><ion-content><ion-list><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>输入新密码</span> <input type=password placeholder=6-18位字符、数字或字母 ng-model=ctrl.viewModel.password required minlength=6 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label><label class="item item-input"><span class=input-label>确认新密码</span> <input type=password placeholder=再次输入新密码 ng-model=ctrl.viewModel.confirmPassword required minlength=6 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-click=ctrl.resetPassword() ng-disabled=!ctrl.enableButton()>修 改</button></ion-content></ion-view>')}]),angular.module("app/user/security/password/sendVeriCode.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/security/password/sendVeriCode.tpl.html",'<ion-view title=设置新登录密码><ion-content><ion-list><ion-item class=divider></ion-item><ion-item class="item item-input veri-code-refresh"><input type=text placeholder=请输入手机号码 ng-model=ctrl.viewModel.cellphone required minlength=11 maxlength=11 ng-pattern="/^(13|14|15|17|18)\\d{9}$/" ng-trim=true> <button class="button button-small" ng-click=ctrl.sendVeriCode() ng-if=ctrl.showVeriCodeButton() ng-disabled=!ctrl.sendVeriCodeButtonEnable()>&nbsp;&nbsp;点击发送验证码&nbsp;&nbsp;</button> <button class="button button-small" ng-click=ctrl.sendVeriCode() ng-if=!ctrl.showVeriCodeButton() ng-disabled=!ctrl.sendVeriCodeButtonEnable()>&nbsp;&nbsp;重新发送（<span ng-bind=ctrl.viewModel.remainSeconds></span>）&nbsp;&nbsp;</button></ion-item><ion-item class="item item-input veri-code-refresh"><input type=text placeholder=请输入验证码 ng-model=ctrl.viewModel.veriCode required minlength=6 maxlength=6 ng-trim=true></ion-item><div class=space></div><div class=space></div></ion-list><button class="btn button-yellow" ng-click=ctrl.verifyVeriCode() ng-disabled=!ctrl.verifyVeriCodeButtonEnable()>校验验证码</button></ion-content></ion-view>')}]),angular.module("app/user/security/paymentPassword/paymentPassword.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/security/paymentPassword/paymentPassword.tpl.html",'<ion-view title=设置新支付密码><ion-content><ion-list class=reset-payment-passsword><ion-item class=divider></ion-item><label class="item item-input" ng-if=ctrl.viewModel.needUserInfo><span class=input-label>输入您的姓名</span> <input type=text placeholder=姓名 ng-model=ctrl.viewModel.realName required minlength=1 maxlength=8 ng-trim=true></label><label class="item item-input" ng-if=ctrl.viewModel.needUserInfo><span class=input-label>确认您的证件号</span> <input type=text placeholder=证件号 ng-model=ctrl.viewModel.credentialNo required minlength=5 maxlength=30 ng-trim=true></label><label class="item item-input"><span class=input-label>输入新支付密码</span> <input type=password placeholder=8-18位字符，必须包含大写字母 ng-model=ctrl.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label><label class="item item-input"><span class=input-label>确认新支付密码</span> <input type=password placeholder=再次输入新支付密码 ng-model=ctrl.viewModel.confirmPassword required minlength=8 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-click=ctrl.resetPassword() ng-disabled=!ctrl.enableButton()>修 改</button></ion-content></ion-view>')}]),angular.module("app/user/security/paymentPassword/sendVeriCode.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/security/paymentPassword/sendVeriCode.tpl.html",'<ion-view title=设置新支付密码><ion-content><ion-list><ion-item class=divider></ion-item><ion-item class="item item-input veri-code-refresh"><input type=text placeholder=请输入手机号码 ng-model=ctrl.viewModel.cellphone required minlength=11 maxlength=11 ng-pattern="/^(13|14|15|17|18)\\d{9}$/" ng-trim=true readonly=readonly> <button class="button button-small" ng-click=ctrl.sendVeriCode() ng-if=ctrl.showVeriCodeButton() ng-disabled=!ctrl.sendVeriCodeButtonEnable()>&nbsp;&nbsp;点击发送验证码&nbsp;&nbsp;</button> <button class="button button-small" ng-click=ctrl.sendVeriCode() ng-if=!ctrl.showVeriCodeButton() ng-disabled=!ctrl.sendVeriCodeButtonEnable()>&nbsp;&nbsp;重新发送（<span ng-bind=ctrl.viewModel.remainSeconds></span>）&nbsp;&nbsp;</button></ion-item><ion-item class="item item-input veri-code-refresh"><input type=text placeholder=请输入验证码 ng-model=ctrl.viewModel.veriCode required minlength=6 maxlength=6 ng-trim=true></ion-item><div class=space></div><div class=space></div></ion-list><button class="btn button-yellow" ng-click=ctrl.verifyVeriCode() ng-disabled=!ctrl.verifyVeriCodeButtonEnable()>校验验证码</button></ion-content></ion-view>')}]),angular.module("app/user/security/paymentPassword/setPaymentPassword.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/security/paymentPassword/setPaymentPassword.tpl.html",'<ion-view title=设置支付密码><ion-content><ion-list><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>输入支付密码</span> <input type=password placeholder=8-18位字符，必须包含大写字母 ng-model=ctrl.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label><label class="item item-input"><span class=input-label>确认支付密码</span> <input type=password placeholder=再次输入支付密码 ng-model=ctrl.viewModel.confirmPassword required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-click=ctrl.setPassword() ng-disabled=!ctrl.enableButton()>确 认</button></ion-content></ion-view>')}]),angular.module("app/user/security/security.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/security/security.tpl.html",'<ion-view title=安全设置><ion-content><ion-list><ion-item class=divider></ion-item><ion-item class=item-icon-right ui-sref=jym.user-security-password-send-veri-code><p>重置登录密码</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ng-if=ctrl.viewModel.hasSetPaymentPassword ui-sref=jym.user-security-payment-password-send-veri-code><p>重置支付密码</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ng-if=!ctrl.viewModel.hasSetPaymentPassword ui-sref=jym.user-security-set-payment-password><p>设置支付密码</p><i class="icon ion-chevron-right"></i></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/settle-account/deposit/bank-card-selector.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/deposit/bank-card-selector.tpl.html",'<ion-view title=选择银行卡><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=account.doRefresh()></ion-refresher><ion-list class=bank-card><ion-item ng-repeat="item in account.viewModel.items" class="item-thumbnail-left item-icon-right" ng-click=account.select(item.bankCardNo)><img ng-src="{{ item.bankName | bankImg }}"><h2 ng-bind=item.bankName></h2><p class=pull-right ng-bind="item | bankCardStatus"></p><p>尾号 <em ng-bind=item.bankCardNo.substr(-4)></em></p><i class="icon ion-checkmark-round" ng-hide=!account.selected(item.bankCardNo)></i></ion-item></ion-list></ion-content></ion-view>');
}]),angular.module("app/user/settle-account/deposit/deposit-success.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/deposit/deposit-success.tpl.html",'<ion-view title=充值><ion-content><div id=yilian-notice><h2>正在付款中！</h2><p>我们会以短信方式通知您充值结果！</p></div><div class=space></div><button class="btn button-yellow" ng-click="ctrl.go(\'jym.user\')">返回个人中心</button></ion-content></ion-view>')}]),angular.module("app/user/settle-account/deposit/deposit.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/deposit/deposit.tpl.html",'<ion-view title=充值><ion-content><ion-list class=bank-card><ion-item class="item-thumbnail-left item-icon-right" ng-if=!account.viewModel.noCard ui-sref=jym.user-settle-account-deposit-bank-card-selector><img ng-src="{{ account.viewModel.bankName | bankImg }}"><h2 ng-bind=account.viewModel.bankName></h2><p>尾号 <em ng-bind=account.viewModel.bankCardNo.substr(-4)></em></p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=plus-card ng-if=account.viewModel.noCard ui-sref=jym.user-bank-card-add><i class="icon ion-ios-plus-outline"></i> <span>添加新银行卡</span></ion-item><ion-item class=divider></ion-item><ion-item class=item-input><span class=input-label>金额</span> <input type=number placeholder=请填写充值金额（元） required min=1 max=1000000 ng-model=account.viewModel.amount></ion-item><ion-item class=item-input><span class=input-label>密码</span> <input type=password placeholder=请填写支付密码 required minlength=8 maxlength=18 ng-model=account.viewModel.password></ion-item></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-disabled=!account.buttonEnable() ng-click=account.deposit()>付款</button></ion-content></ion-view>')}]),angular.module("app/user/settle-account/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/detail/detail.tpl.html",'<ion-view title=账户流水记录><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=transaction.doRefresh()></ion-refresher><ion-list class=reorder><ion-item><p class=pull-left>交易时间</p><p class=pull-right ng-bind="transaction.viewModel.transactionTime | longTime"></p></ion-item><ion-item ng-if="transaction.viewModel.resultCode === 1"><p class=pull-left>完成时间</p><p class=pull-right ng-bind="transaction.viewModel.resultTime | longTime"></p></ion-item><ion-item class=nonborder><p class=pull-left>交易类型</p><p class=pull-right ng-bind="transaction.viewModel.tradeCode | tradeCodeForSettle"></p></ion-item><ion-item><p class=pull-left>金额（元）</p><p class=pull-right><span class=plus ng-if="transaction.viewModel.trade === 0">+</span> <span class=minus ng-if="transaction.viewModel.trade === 1">-</span> <span ng-bind=transaction.viewModel.amount></span></p></ion-item><ion-item><p class=pull-left>备注说明</p><p class=pull-right ng-bind=transaction.viewModel.transDesc></p></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right><p>协议</p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=divider></ion-item><ion-item><p class=pull-left>状态</p><p class=pull-right ng-bind="transaction.viewModel.resultCode | resultText" ng-style=transaction.viewModel.resultStyle></p></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/settle-account/list/list.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/list/list.tpl.html",'<ion-view title=资金账户明细><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=account.doRefresh()></ion-refresher><ion-list class=settle-account-list><div ng-repeat="item in account.viewModel.items"><ion-item class=item-icon-right ui-sref="jym.user-settle-account-detail({\n        transactionIdentifier: item.transactionIdentifier})"><p><span class=pull-left ng-bind="item.tradeCode | tradeCodeForSettle"></span> <span class=pull-right><span class=plus ng-if="item.trade === 0">+</span> <span class=minus ng-if="item.trade === 1">-</span> <span ng-bind=item.amount></span></span></p><p><span class=pull-left ng-bind="item.resultCode | resultText"></span> <span class=pull-right><span ng-bind="item.transactionTime | time"></span></span></p><i class="icon ion-chevron-right icon-accessory"></i></ion-item><ion-item class=divider></ion-item></div></ion-list><ion-infinite-scroll ng-if=account.moreDataCanBeLoaded() on-infinite=account.loadMoreData() distance=1% spinner=spiral></ion-infinite-scroll></ion-content></ion-view>')}]),angular.module("app/user/settle-account/settle-account.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/settle-account.tpl.html",'<ion-view title=资金账户><ion-content class=settle-account><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=user.doRefresh()></ion-refresher><ion-list><ion-item class=item-icon-right ui-sref=jym.user-settle-account-list><p><strong ng-bind=user.viewModel.balance></strong> 元</p><i class="icon ion-chevron-right"></i></ion-item><ion-item><p>投资中金额（元）：<em ng-bind=user.viewModel.investingPrincipal></em></p></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right ui-sref=jym.user-settle-account-deposit><h2>充值</h2><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item-icon-right ui-sref=jym.user-settle-account-withdrawal><h2>提现</h2><i class="icon ion-chevron-right"></i></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/settle-account/withdrawal/bank-card-selector.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/withdrawal/bank-card-selector.tpl.html",'<ion-view title=选择银行卡><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=account.doRefresh()></ion-refresher><ion-list class=bank-card-select><ion-item ng-repeat="item in account.viewModel.items" class="item-thumbnail-left item-icon-right" ng-click=account.select(item.bankCardNo) ng-class="{\n      \'border-bottom-yellow\': account.selected(item.bankCardNo) }"><img ng-src="{{ item.bankName | bankImg }}"><h2 ng-bind=item.bankName></h2><p>尾号 <em ng-bind=item.bankCardNo.substr(-4)></em><span>&nbsp;&nbsp;</span><samp ng-bind="item | bankCardStatus"></samp></p><p>取现额度（元）<span ng-bind=item.withdrawAmount></span></p><i class="icon ion-checkmark-round" ng-hide=!account.selected(item.bankCardNo)></i></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/user/settle-account/withdrawal/withdrawal.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/settle-account/withdrawal/withdrawal.tpl.html",'<ion-view title=提现><ion-content><div ng-if=!account.viewModel.noCard><ion-list class=bank-card><ion-item class="item-thumbnail-left item-icon-right" ui-sref=jym.user-settle-account-withdrawal-bank-card-selector><img ng-src="{{ account.viewModel.bankName | bankImg }}"><h2><span ng-bind=account.viewModel.bankName></span> <span>&nbsp;尾号 <em ng-bind=account.viewModel.bankCardNo.substr(-4)></em></span></h2><p>限取额度（元）<span ng-bind=account.viewModel.withdrawAmount></span></p><i class="icon ion-chevron-right"></i></ion-item><ion-item class=divider></ion-item><ion-item class="item-input max-withdrawal"><span class=input-label>取款金额</span> <input type=number placeholder=请输入取款金额（元） required min=0.01 max=1000000 ng-model=account.viewModel.amount></ion-item><ion-item class=item-input><span class=input-label>输入密码</span> <input type=password placeholder=请输入您的支付密码 ng-model=account.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></ion-item></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-disabled=!account.buttonEnable() ng-click=account.withdraw()>提现</button></div><div ng-if=account.viewModel.noCard><div id=yilian-notice><h3>为了您的资金安全，您必须先签约绑定银行卡，才能进行取现操作！</h3></div><div class=space></div><button class="btn button-yellow" ui-sref=jym.user-bank-card-add>绑定银行卡</button></div></ion-content></ion-view>')}]),angular.module("app/user/signup/sendVeriCode.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/signup/sendVeriCode.tpl.html",'<ion-view title=创建金银猫账户><ion-content><ion-list><ion-item class=divider></ion-item><ion-item class="item item-input veri-code-refresh"><input type=text placeholder=请输入手机号码 ng-model=ctrl.viewModel.cellphone required minlength=11 maxlength=11 ng-pattern="/^(13|14|15|17|18)\\d{9}$/" ng-trim=true> <button class="button button-small" ng-click=ctrl.sendVeriCode() ng-if=ctrl.showVeriCodeButton() ng-disabled=!ctrl.sendVeriCodeButtonEnable()>&nbsp;&nbsp;点击发送验证码&nbsp;&nbsp;</button> <button class="button button-small" ng-click=ctrl.sendVeriCode() ng-if=!ctrl.showVeriCodeButton() ng-disabled=!ctrl.sendVeriCodeButtonEnable()>&nbsp;&nbsp;重新发送（<span ng-bind=ctrl.viewModel.remainSeconds></span>）&nbsp;&nbsp;</button></ion-item><ion-item class="item item-input veri-code-refresh"><input type=text placeholder=请输入验证码 ng-model=ctrl.viewModel.veriCode required minlength=6 maxlength=6 ng-trim=true></ion-item><div class=space></div><div class=space></div></ion-list><button class="btn button-yellow" ng-click=ctrl.verifyVeriCode() ng-disabled=!ctrl.verifyVeriCodeButtonEnable()>校验验证码</button></ion-content></ion-view>')}]),angular.module("app/user/signup/signup.tpl.html",[]).run(["$templateCache",function(a){a.put("app/user/signup/signup.tpl.html",'<ion-view title=设置登录密码><ion-content><ion-list><ion-item class=divider></ion-item><label class="item item-input"><span class=input-label>输入登录密码</span> <input type=password placeholder=6-18位字符、数字或字母 ng-model=ctrl.viewModel.password required minlength=6 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label><label class="item item-input"><span class=input-label>确认登录密码</span> <input type=password placeholder=再次输入登录密码 ng-model=ctrl.viewModel.confirmPassword required minlength=6 maxlength=18 ng-pattern="/^[a-zA-Z\\d~!@#$%^&*_]{6,18}$/"></label></ion-list><div class=space></div><div class=space></div><button class="btn button-yellow" ng-click=ctrl.resetPassword() ng-disabled=!ctrl.enableButton()>确 认</button></ion-content></ion-view>')}]),angular.module("app/yinpiao/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/yinpiao/detail/detail.tpl.html",'<ion-view title=银企众盈><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=product.doRefresh()></ion-refresher><ion-list class=order-detail><ion-item><div class=row><div class="col col-50"><div class=center><p>已售出</p><p><span ng-bind=product.viewModel.sellProgress></span><samp>%</samp></p><progress-arc class=circle-progress stroke=#e74c3c size=100 stroke-width=5 complete=product.viewModel.sellProgressInCircleProgress background=#eee></progress-arc></div></div><div class=col><ul><li><samp ng-bind=product.viewModel.yield></samp><span>%</span></li><li><span ng-bind=product.viewModel.unitPrice></span>元起投</li><li><span ng-bind=product.viewModel.period></span>天</li><li><span ng-bind=product.viewModel.financingSumAmount></span>万元</li></ul></div></div></ion-item></ion-list><div class=card><ion-item class=item-divider><p class=pull-left>剩余份数：<span ng-bind=product.viewModel.remainCount></span>份（<span ng-bind=product.viewModel.unitPrice></span>元／份）</p></ion-item><ion-item class=item-input-inset><label class=item-input-wrapper><input type=number placeholder=投资份数 ng-model=product.viewModel.investCount required min=1 max=100000000 ng-change=product.investCountChange()> <samp>份</samp></label><button class="button button-small button-assertive" id=btn-narrow ng-bind=product.viewModel.status.buttonText ng-click=product.goPurchase() ng-disabled=!product.goPurchaseButtonEnable()></button></ion-item><ion-item class=item-divider><p class=pull-left>投资金额：<span>&nbsp;</span><span ng-bind=product.viewModel.investAmount></span><span>&nbsp;</span>元</p><p class=pull-right>预计收益：<span>&nbsp;</span><span ng-bind=product.viewModel.expectedInterest></span><span>&nbsp;</span>元</p></ion-item></div><ion-list><ion-item class=item-divider><p ng-bind=product.viewModel.productNo class=product-no></p></ion-item><ion-item><p class=pull-left>项目状态</p><p class=pull-right><span ng-bind=product.viewModel.status.text></span></p></ion-item><ion-item><p class=pull-left>项目名称</p><p class=pull-right><span ng-bind=product.viewModel.productName></span></p></ion-item><ion-item><p class=pull-left>项目期数</p><p class=pull-right><span>第&nbsp;</span><span ng-bind=product.viewModel.issueNo></span><span>&nbsp;期</span></p></ion-item><ion-item><p class=pull-left>承兑行</p><p class=pull-right><span ng-bind=product.viewModel.bankName></span></p></ion-item><ion-item><p class=pull-left>融资总额</p><p class=pull-right><span ng-bind=product.viewModel.financingSumAmount></span> 万元</p></ion-item><ion-item><p class=pull-left>投资单位</p><p class=pull-right><span ng-bind=product.viewModel.unitPrice></span>元</p></ion-item><ion-item><p class=pull-left>起息日期</p><p class=pull-right><span ng-bind=product.viewModel.valueDateText></span></p></ion-item><ion-item><p class=pull-left>结息日期</p><p class=pull-right><span ng-bind="product.viewModel.settleDate | time"></span></p></ion-item><ion-item><p class=pull-left>最迟还款日</p><p class=pull-right><span ng-bind="product.viewModel.repaymentDeadline | time"></span></p></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/yinpiao/index.tpl.html",[]).run(["$templateCache",function(a){a.put("app/yinpiao/index.tpl.html",'<ion-view title=银企众盈><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=products.doRefresh()></ion-refresher><ion-list><div ng-repeat="item in products.viewModel.items"><ion-item ui-sref="jym.yinpiao-detail({ productIdentifier: item.productIdentifier })"><div class=row><div class="col col-33"><em ng-bind=item.yield></em><samp>%</samp><li class=jqm-prd-period><span ng-bind=item.period></span><samp>&nbsp;天</samp></li><li class=jqm-min-price><span ng-bind=item.unitPrice></span><samp>&nbsp;元起</samp></li><li class=jqm-prd-price><span ng-bind=item.financingSumAmount></span><samp>&nbsp;万</samp></li></div><div class="col col-67"><li ng-bind=item.productName></li><div class=detail><li class=saleStatus ng-bind=item.statusText ng-class="item.statusTextClass "></li><li ng-bind=item.timeText></li><li ng-bind=item.bankName></li></div></div></div></ion-item><ion-item class=divider></ion-item></div></ion-list><ion-infinite-scroll ng-if=products.moreDataCanBeLoaded() on-infinite=products.loadMoreData() distance=1% spinner=spiral></ion-infinite-scroll></ion-content></ion-view>')}]),angular.module("app/yinpiao/purchase/purchase.tpl.html",[]).run(["$templateCache",function(a){a.put("app/yinpiao/purchase/purchase.tpl.html",'<ion-view title=确认购买><ion-content class=has-header><ion-list class=deposit><ion-item><span class=pull-left>订单金额</span> <span class=pull-right><strong ng-bind=purchase.viewModel.amount></strong> &nbsp;元</span></ion-item></ion-list><ion-list><ion-item class="card deposit"><ion-item class=item><span class=pull-left>账户余额&nbsp;&nbsp;</span> <span class=pull-left><strong ng-bind=purchase.viewModel.balance></strong> &nbsp;&nbsp;元</span> <span class=pull-right ui-sref=jym.user-settle-account-deposit>去充值 &nbsp;&nbsp;<i class="icon ion-chevron-right"></i></span></ion-item><label class="item item-input"><span class=input-label>输入密码</span> <input type=password placeholder=请输入您的支付密码 ng-model=purchase.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label></ion-item><div class=narrow><button ng-click=purchase.check()><span><i class="icon ion-android-checkbox-outline-blank" ng-if=!purchase.viewModel.checked></i> <i class="icon ion-android-checkbox-outline" ng-if=purchase.viewModel.checked></i></span> <span>同意</span></button> <span>《</span> <span ng-bind=purchase.viewModel.agreement2></span> <span>》</span> <span>及</span> <span>《</span> <span ng-bind=purchase.viewModel.agreement1></span> <span>》</span></div></ion-list><button class="btn button-yellow" ng-disabled=!purchase.purchaseButtonEnable() ng-click=purchase.purchase()>同意协议并付款</button><br><br><h4 id=tel>如有问题，请垂询&nbsp;4008-556-333。</h4></ion-content></ion-view>')}]),angular.module("app/zhuanqu/detail/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("app/zhuanqu/detail/detail.tpl.html",'<ion-view title=银行专区><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=products.doRefresh()></ion-refresher><ion-list class=order-detail><ion-item><div class=row><div class="col col-50"><div class=center><p>已售出</p><p><span ng-bind=product.viewModel.sellProgress></span><samp>%</samp></p><progress-arc class=circle-progress stroke=#e74c3c size=100 stroke-width=5 complete=product.viewModel.sellProgressInCircleProgress background=#eee></progress-arc></div></div><div class=col><ul><li><samp ng-bind=product.viewModel.yield></samp><span>%</span></li><li><span ng-bind=product.viewModel.unitPrice></span>元起投</li><li><span ng-bind=product.viewModel.period></span>天</li><li><span ng-bind=product.viewModel.financingSumAmount></span>万元</li></ul></div></div></ion-item></ion-list><ion-list class=card><ion-item class=item-divider><p class=pull-left>剩余份数：<span ng-bind=product.viewModel.remainCount></span>份（<span ng-bind=product.viewModel.unitPrice></span>元／份）</p></ion-item><ion-item class=item-input-inset><label class=item-input-wrapper><input type=number placeholder=投资份数 ng-model=product.viewModel.investCount required min=1 max=100000000 ng-change=product.investCountChange()> <samp>份</samp></label><button class="button button-small button-assertive" id=btn-narrow ng-bind=product.viewModel.status.buttonText ng-click=product.goPurchase()></button></ion-item><ion-item class=item-divider><p class=pull-left>投资金额：<span>&nbsp;</span><span ng-bind=product.viewModel.investAmount></span><span>&nbsp;</span>元</p><p class=pull-right>预计收益：<span>&nbsp;</span><span ng-bind=product.viewModel.expectedInterest></span><span>&nbsp;</span>元</p></ion-item></ion-list><ion-list><ion-item class=item-divider><p ng-bind=product.viewModel.productNo class=product-no></p></ion-item><ion-item><p class=pull-left>项目状态</p><p class=pull-right><span ng-bind=product.viewModel.status.text></span></p></ion-item><ion-item><p class=pull-left>项目名称</p><p class=pull-right><span ng-bind=product.viewModel.productName></span></p></ion-item><ion-item><p class=pull-left>项目期数</p><p class=pull-right><span>第&nbsp;</span><span ng-bind=product.viewModel.issueNo></span><span>&nbsp;期</span></p></ion-item><ion-item ng-if=product.viewModel.isYinpiao><p class=pull-left>承兑行</p><p class=pull-right><span ng-bind=product.viewModel.bankName></span></p></ion-item><ion-item ng-if=product.viewModel.isShangpiao><p class=pull-left>项目类型</p><p class=pull-right><span ng-bind=product.viewModel.riskManagementMode></span></p></ion-item><ion-item><p class=pull-left>融资总额</p><p class=pull-right><span ng-bind=product.viewModel.financingSumAmount></span> 万元</p></ion-item><ion-item><p class=pull-left>投资单位</p><p class=pull-right><span ng-bind=product.viewModel.unitPrice></span>元</p></ion-item><ion-item><p class=pull-left>起息日期</p><p class=pull-right><span ng-bind=product.viewModel.valueDateText></span></p></ion-item><ion-item><p class=pull-left>结息日期</p><p class=pull-right><span ng-bind="product.viewModel.settleDate | time"></span></p></ion-item><ion-item><p class=pull-left>最迟还款日</p><p class=pull-right><span ng-bind="product.viewModel.repaymentDeadline | time"></span></p></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/zhuanqu/index.tpl.html",[]).run(["$templateCache",function(a){a.put("app/zhuanqu/index.tpl.html",'<ion-view title=银行专区><ion-content id=zhuanqu><ion-list><ion-item class=item-icon-right ui-sref="jym.zhuanqu-list({ bank: \'fudian\' })"><h2 id=fudian>富滇银行</h2><i class="icon ion-chevron-right"></i></ion-item><ion-item ui-sref="jym.zhuanqu-list({ bank: \'fudan\' })"><img src=assets/img/zhuanqu/fudian@308x130-ff6b31.gif></ion-item><ion-item><p>票据由富滇银行代为保管和托收</p><p>到期由承兑银行无条件兑付</p><p>本息安全 风险趋零</p></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right ui-sref="jym.zhuanqu-list({ bank: \'fuxin\' })"><h2 id=fuxin>阜新银行</h2><i class="icon ion-chevron-right"></i></ion-item><ion-item ui-sref="jym.zhuanqu-list({ bank: \'fuxin\' })"><img src=assets/img/zhuanqu/fuxin@308x130-73f47c.gif></ion-item><ion-item><p>票据由阜新银行代为保管和托收</p><p>到期由承兑银行无条件兑付</p><p>本息安全 风险趋零</p></ion-item><ion-item class=divider></ion-item><ion-item class=item-icon-right ui-sref="jym.zhuanqu-list({ bank: \'shibing\' })"><h2 id=shibingcunzhen>施秉金鼎村镇银行</h2><i class="icon ion-chevron-right"></i></ion-item><ion-item ui-sref="jym.zhuanqu-list({ bank: \'shibing\' })"><img src=assets/img/zhuanqu/sbjd@308x130-04c7a4.gif></ion-item><ion-item><p>募集资金由施秉金鼎村镇银行进行资金监管</p></ion-item><ion-item class=divider></ion-item><ion-item class="item item-icon-right" ng-href="https://piao.cib.com.cn/"><h2 id=xingye>兴业银行</h2><i class="icon ion-chevron-right"></i></ion-item><ion-item class=item ui-sref=jym.yinhangzhuanqu.detail ng-href="https://piao.cib.com.cn/"><img src=assets/img/zhuanqu/cib@308x130-6bb205.gif></ion-item><ion-item><p>到期由兴业银行无条件兑付</p><p>本息安全 风险趋零</p></ion-item></ion-list></ion-content></ion-view>')}]),angular.module("app/zhuanqu/list.tpl.html",[]).run(["$templateCache",function(a){a.put("app/zhuanqu/list.tpl.html",'<ion-view title=银行专区><ion-content><ion-refresher pulling-icon=ion-arrow-down-c spinner=spiral on-refresh=products.doRefresh()></ion-refresher><ion-list><div ng-repeat="item in products.viewModel.items"><ion-item ui-sref="jym.zhuanqu-detail({ productIdentifier: item.productIdentifier, bankName: products.viewModel.bankName })"><div class=row><div class="col col-33"><em ng-bind=item.yield></em><samp>%</samp><li class=jqm-prd-period><span ng-bind=item.period></span><samp>&nbsp;天</samp></li><li class=jqm-min-price><span ng-bind=item.unitPrice></span><samp>&nbsp;元起</samp></li><li class=jqm-prd-price><span ng-bind=item.financingSumAmount></span><samp>&nbsp;万</samp></li></div><div class="col col-67"><li ng-bind=item.productName></li><div class=detail><li class=saleStatus ng-bind=item.statusText ng-class="item.statusTextClass "></li><li ng-bind=item.timeText></li><li ng-bind=item.riskManagementText></li></div></div></div></ion-item><ion-item class=divider></ion-item></div></ion-list><ion-infinite-scroll ng-if=products.moreDataCanBeLoaded() on-infinite=products.loadMoreData() distance=1% spinner=spiral></ion-infinite-scroll></ion-content></ion-view>')}]),angular.module("app/zhuanqu/purchase/purchase.tpl.html",[]).run(["$templateCache",function(a){a.put("app/zhuanqu/purchase/purchase.tpl.html",'<ion-view title=确认购买><ion-content><ion-list class=deposit><ion-item><span class=pull-left>订单金额</span> <span class=pull-right><strong ng-bind=purchase.viewModel.amount></strong> &nbsp;元</span></ion-item></ion-list><ion-list><ion-item class="card deposit"><ion-item class=item><span class=pull-left>账户余额&nbsp;&nbsp;</span> <span class=pull-left><strong ng-bind=purchase.viewModel.balance></strong> &nbsp;&nbsp;元</span> <span class=pull-right ui-sref=jym.user-settle-account-deposit>去充值 &nbsp;&nbsp;<i class="icon ion-chevron-right"></i></span></ion-item><label class="item item-input"><span class=input-label>输入密码</span> <input type=password placeholder=请输入您的支付密码 ng-bind=purchase.viewModel.password required minlength=8 maxlength=18 ng-pattern="/^(?![^a-zA-Z~!@#$%^&*_]+$)(?!\\D+$).{8,18}$/"></label></ion-item><div class=narrow><button ng-click=purchase.check()><span><i class="icon ion-android-checkbox-outline-blank" ng-if=!purchase.viewModel.checked></i> <i class="icon ion-android-checkbox-outline" ng-if=purchase.viewModel.checked></i></span> <span>同意</span></button> <span>《</span> <span ng-bind=purchase.viewModel.agreement2></span> <span>》</span> <span>及</span> <span>《</span> <span ng-bind=purchase.viewModel.agreement1></span> <span>》</span></div></ion-list><button class="btn button-yellow" ng-disabled=!purchase.purchaseButtonEnable() ng-click=purchase.purchase()>同意协议并付款</button><br><br><h4 id=tel>如有问题，请垂询&nbsp;4008-556-333。</h4></ion-content></ion-view>')}]),angular.module("jym.jinbaoyin.detail",["jym.services","jym.services.jinbaoyin","jym.services.product","jym.services.purchase","jym.services.user","jym.jinbaoyin.purchase"]).config(["$stateProvider",function(a){a.state("jym.jinbaoyin-detail",{url:"/jinbaoyin/detail",views:{jinbaoyin:{controller:"JinbaoyinDetailCtrl as product",templateUrl:"app/jinbaoyin/detail/detail.tpl.html"}}})}]).controller("JinbaoyinDetailCtrl",["$scope","$timeout","$q","$state","ProductService","JinbaoyinService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g,h,i){var j=this,k=function(a){return e.getSaleProgress(a.paidAmount,a.financingSumAmount,a.soldOut,a.startSellTime,a.endSellTime)},l=function(a){var b=e.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonText:"售 罄"}}},m=function(a){return e.getValueDateModeText(a)};j.model={},j.viewModel={},j.viewModel.investCount=10,j.viewModel.investAmount=0,j.viewModel.expectedInterest=0,j.doRefresh=function(){j.refreshProduct(),b(function(){a.$broadcast("scroll.refreshComplete")},500)},j.investCountChange=function(){j.viewModel.investCount<0&&(j.viewModel.investCount=0),j.viewModel.investCount>j.viewModel.remainCount&&(j.viewModel.investCount=parseInt(j.viewModel.remainCount,10)),j.refreshInvestViewModel()},j.goPurchase=function(){if(j.goPurchaseButtonEnable()){var a=j.viewModel.investCount*j.model.unitPrice,b=h.checkUserPurchaseStatus(),f=e.checkProductPurchaseStatus(j.refreshProduct(),a);c.all([b,f]).then(function(b){g.buildNewJBYOrder(a,b[1].productIdentifier),d.go("jym.jinbaoyin-purchase")})["catch"](function(a){i.showAlert(a)})}},j.goPurchaseButtonEnable=function(){return j.viewModel.status&&20===j.viewModel.status.status&&j.viewModel.investAmount&&j.viewModel.investAmount>=j.viewModel.unitPrice},j.refreshInvestViewModel=function(){isFinite(j.viewModel.investCount)?j.viewModel.investAmount=j.viewModel.investCount*j.viewModel.unitPrice:j.viewModel.investAmount=0,j.viewModel.expectedInterest=(e.getInterest(100*j.viewModel.investAmount,j.model["yield"],30)/100).toFixed(2)},j.refreshProduct=function(){return f.getIndex().then(function(a){return j.model=a,j.refreshViewModel(),j.refreshInvestViewModel(),a})},j.refreshViewModel=function(){j.viewModel.issueNo=parseInt(j.model.issueNo,10),j.viewModel.financingSumAmount=(j.model.financingSumAmount/1e6).toFixed(0),j.viewModel.productName=j.model.productName,j.viewModel.productNo=j.model.productNo,j.viewModel.productTitle=j.model.productName+" 第"+j.model.issueNo+"期",j.viewModel.remainCount=((j.model.financingSumAmount-j.model.paidAmount)/j.model.unitPrice).toFixed(0),j.viewModel.sellProgress=k(j.model),j.viewModel.sellProgressInCircleProgress=j.viewModel.sellProgress/100,j.viewModel.status=l(j.model),j.viewModel.unitPrice=(j.model.unitPrice/100).toFixed(0),j.viewModel.valueDateMode=m(j.model.valueDateMode),j.viewModel["yield"]=(j.model["yield"]/100).toFixed(2),20!==j.viewModel.status.status&&(j.viewModel.remainCount=0)},j.doRefresh()}]),angular.module("jym.jinbaoyin",["jym.services.jinbaoyin","jym.jinbaoyin.detail"]).config(["$stateProvider",function(a){a.state("jym.jinbaoyin",{url:"/jinbaoyin",views:{jinbaoyin:{controller:"JinbaoyinCtrl as product",templateUrl:"app/jinbaoyin/index.tpl.html"}}})}]).controller("JinbaoyinCtrl",["$scope","$timeout","$ionicDeploy","JinbaoyinService",function(a,b,c,d){var e=this;e.model={},e.viewModel={},e.refreshProduct=function(){d.getIndex().then(function(a){e.model=a,e.viewModel.title=a.productName+" 第"+a.issueNo+"期",e.viewModel["yield"]=a["yield"]/100,e.viewModel.unitPrice=(a.unitPrice/100).toFixed(0)})},e.doRefresh=function(){e.refreshProduct(),b(function(){a.$broadcast("scroll.refreshComplete")},500)},e.doRefresh(),a.checkForUpdates=function(){c.check().then(function(a){a&&c.update()})}}]),angular.module("jym.jinbaoyin.purchase",["jym.services","jym.services.purchase","jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.jinbaoyin-purchase",{url:"/jinbaoyin/purchase",views:{jinbaoyin:{controller:"JinbaoyinPurchaseCtrl as purchase",templateUrl:"app/jinbaoyin/purchase/purchase.tpl.html"}}})}]).controller("JinbaoyinPurchaseCtrl",["$scope","$timeout","RESOURCES","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f){var g=this;g.model={},g.viewModel={},g.model.currentUser={},g.model.order={},g.viewModel.password=void 0,g.viewModel.checked=!0,g.check=function(){g.viewModel.checked=!g.viewModel.checked},g.doRefresh=function(){g.refreshUserInfo().then(function(a){return g.model.currentUser=a,g.model.order=d.getNewJBYOrder(),g.refreshViewModel(),a})},g.refreshUserInfo=function(){return e.getUserInfo()},g.refreshViewModel=function(){g.viewModel.balance=(g.model.currentUser.balance/100).toFixed(2),g.viewModel.amount=(g.model.order.amount/100).toFixed(2),g.viewModel.agreement="金银猫金包银投资协议"},g.purchaseButtonEnable=function(){return g.viewModel.checked&&g.viewModel.amount&&g.viewModel.password&&g.model.currentUser.balance>=g.model.order.amount},g.purchase=function(){if(g.purchaseButtonEnable()){var a=parseInt(g.model.order.amount,10);e.investingJBY(a,g.viewModel.password,g.model.order.productIdentifier).then(function(a){a&&(f.showAlert(c.TIP.INVESTING.JBY),d.clearJBYOrder(),b(function(){f.goWithDisableBack("jym.user-jinbaoyin-detail",{transactionIdentifier:a.transactionIdentifier})},1e3))})}},a.$on("$ionicView.enter",function(){g.doRefresh()}),g.doRefresh()}]),angular.module("JYM",["ionic","ionic.service.core","ionic.service.deploy","ngCordova","jym.user","angular-progress-arc","jym.controllers","jym.interceptors","jym.filters","jym.jinbaoyin","jym.shangpiao","jym.templates","jym.zhuanqu","jym.yinpiao","jym.constants"]).config(["$ionicConfigProvider",function(a){a.views.transition("ios"),a.tabs.position("bottom"),a.backButton.text("").icon("ion-ios-arrow-back")}]).config(["$ionicAppProvider",function(a){a.identify({app_id:"6e37fda2",api_key:"c1006ace57b45a0a7b5543cd6e65bb5e689b95d7b00cfad0"})}]).config(["$httpProvider",function(a){a.interceptors.push("globalInterceptor"),a.interceptors.push("loadingInterceptor")}]).config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist(/^\s*(https?|file|blob|cdvfile):|data:image\//)}]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("jym",{url:"","abstract":!0,templateUrl:"app/index.tpl.html"}),b.otherwise("/jinbaoyin")}]).run(["$ionicPlatform",function(a){a.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).run(["$rootScope","$ionicLoading",function(a,b){a.$on("loading:show",function(){b.show({template:'<ion-spinner icon="spiral" class="spinner-energized"></ion-spinner>'})}),a.$on("loading:hide",function(){b.hide()}),a.$on("http:requestError",function(){b.hide(),b.show({template:"请求失败",duration:3e3})}),a.$on("http:responseError-500",function(){b.hide(),b.show({template:"请稍后再试",duration:3e3})})}]),angular.module("jym.services.jinbaoyin",["jym.services"]).service("JinbaoyinService",["$http","URLS","JYMCacheService",function(a,b,c){var d=this;d.buildOrder=function(c){return a.post(b.INVESTING.JBY,c)},d.getIndex=function(){return a.get(b.JINBAOYIN.FETCH,{cache:c.get("productCache")}).then(function(a){return a.data})},d.getSold=function(c){var d=b.JINBAOYIN.SOLD+c;return a.get(d,{}).then(function(a){return a.data})}}]),angular.module("jym.services.product",["jym.services"]).service("ProductService",["$http","RESOURCES","URLS","JYMCacheService",function(a,b,c,d){var e=this;e.checkProductPurchaseStatus=function(a,c){return a.then(function(a){
var d=e.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);if(10===d)throw b.ALERT.PRODUCT.NOT_ON_SALE;if(30===d)throw b.ALERT.PRODUCT.SOLD_OUT;if(a.financingSumAmount-a.paidAmount<c)throw b.ALERT.PRODUCT.SHARE_INSUFFICIENT;if(c%a.unitPrice!==0)throw b.ALERT.PRODUCT.AMOUNT_INCORRECT;return a})},e.getInterest=function(a,b,c){return Math.floor(a*b*c/36e5)},e.getSaleProgress=function(a,b,c,d,f){var g=e.getSaleStatus(c,d,f);return 30===g?100:10===g?0:a>=b?100:a>=.991*b?99:(a/b).toFixed(0)},e.getSaleStatus=function(a,b,c){return a===!0||moment(c)<moment()?30:moment(b)<moment()?20:10},e.getRegularProductInfo=function(b){var e=c.REGULARPRDUCT.INFO+b;return a.get(e,{cache:d.get("productCache")}).then(function(a){return a.data})},e.getSold=function(b){var d=c.REGULARPRDUCT.SOLD+b;return a.get(d).then(function(a){return a.data})},e.getShangpiaoPage=function(b){var e=c.REGULARPRDUCT.PAGE+b+"?categories=100000020";return a.get(e,{cache:d.get("productCache")}).then(function(a){return a.data})},e.getYinpiaoPage=function(b){var e=c.REGULARPRDUCT.PAGE+b+"?categories=100000010";return a.get(e,{cache:d.get("productCache")}).then(function(a){return a.data})},e.getValueDateModeText=function(a,b,c){return c?moment(b).format("LL"):0>=a?"购买成功立刻起息":"购买成功T+"+a+"工作日起息"}}]),angular.module("jym.services.purchase",["jym.services","jym.services.jinbaoyin"]).service("PurchaseService",["$http","JinbaoyinService","JYMUtilityService",function(a,b,c){var d=this,e={},f={};d.buildNewJBYOrder=function(a,b){e.amount=a,e.productIdentifier=b},d.buildRegularOrder=function(a,b,c){f.amount=a,f.productIdentifier=b,f.productCategory=c},d.clearJBYOrder=function(){e={}},d.clearRegularOrder=function(){f={}},d.getNewJBYOrder=function(){return e.amount&&e.productIdentifier||c.goWithDisableBack("jym.jinbaoyin"),e},d.getRegularOrder=function(a){return f.amount&&f.productIdentifier&&f.productCategory===a||c.goWithDisableBack("jym.jinbaoyin"),f}}]),angular.module("jym.services.user",["ionic","jym.services"]).service("UserService",["$http","URLS","RESOURCES","JYMAuthService","JYMCacheService","JYMUtilityService",function(a,b,c,d,e,f){var g=this;g.sharedData={};var h=function(a){switch(a){case"浦发银行":return"上海|上海";case"深发银行":return"广东|深圳";case"平安银行":return"上海|上海";case"民生银行":return"上海|上海";case"工商银行":return"上海|上海";case"农业银行":return"上海|上海";case"建设银行":return"上海|上海";case"招商银行":return"上海|上海";case"广发银行":return"广东|广州";case"广州银行":return"广东|广州";case"邮储银行":return"上海|上海";case"兴业银行":return"上海|上海";case"光大银行":return"上海|上海";case"华夏银行":return"上海|上海";case"中信银行":return"上海|上海";case"广州农商行":return"广东|广州";case"中国银行":return"上海|上海";case"富滇银行":return"上海|上海";default:return"上海|上海"}},i={};g.authenticate=function(c,d,e,f){var g=b.USER.AUTHENTICATE,i=h(d);return a.post(g,{bankCardNo:c,bankName:d,cityName:i,credential:10,credentialNo:e,realName:f}).then(function(a){return 200===a.status})},g.addBankCard=function(c,d){var e=b.BANKCARD.ADDBANKCARD,f=h(d);return a.post(e,{bankCardNo:c,bankName:d,cityName:f}).then(function(a){return 200===a.status})},g.checkUserPurchaseStatus=function(){return g.getUserInfo().then(function(a){if(a.closed===!0)throw c.ALERT.USER.CLOSED;if(a.hasSetPaymentPassword===!1)throw c.ALERT.USER.HAS_NOT_SET_PAYMENT_PASSWORD;if(a.hasSetPaymentPassword>=5)throw c.ALERT.USER.PAYMENT_PASSWORD_NEED_RESET;return a})},g.depositByYilian=function(c,d,e){var f=b.SETTLEACCOUNT.DEPOSIT;return a.post(f,{amount:c,bankCardNo:d,paymentPassword:e}).then(function(a){return 200===a.status})},g.investingJBY=function(c,d,e){var f=b.INVESTING.JBY;return a.post(f,{amount:c,paymentPassword:d,productIdentifier:e}).then(function(a){return a.data})},g.investingRegular=function(c,d,e){var f=b.INVESTING.REGULAR;return a.post(f,{amount:c,paymentPassword:d,productIdentifier:e}).then(function(a){return a.data})},g.getBankCard=function(c){var d=b.BANKCARD.INFO+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getBankCards=function(){var c=b.BANKCARD.LIST;return a.get(c,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getCurrentUser=function(){return g.getUserInfo(),i},g.getJBYAccountList=function(c){var d=b.USERJINBAOYIN.LIST+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getJBYAccountTransaction=function(c){var d=b.USERJINBAOYIN.INFO+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getOrderInfo=function(c){var d=b.ORDER.INFO+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getOrderList=function(c){var d=b.ORDER.LIST+c+"/1";return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getSettelAccountTransaction=function(c){var d=b.SETTLEACCOUNT.INFO+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getSettelAccountList=function(c){var d=b.SETTLEACCOUNT.LIST+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getSettelAccountTransaction=function(c){var d=b.SETTLEACCOUNT.INFO+c;return a.get(d,{cache:e.get("userCache")}).then(function(a){return a.data})},g.getUserInfo=function(){return a.get(b.USER.GETINFO,{cache:e.get("userCache")}).then(function(a){return i=a.data})},g.getWithdrawalableBankCards=function(){var c=b.BANKCARD.WITHDRAWALABLE;return a.get(c,{cache:e.get("userCache")}).then(function(a){return a.data})},g.login=function(c,d){return a.post(b.USER.SIGNIN,{loginName:c,password:d}).then(function(a){return a.data})},g.loginOut=function(){d.clearToken()},g.jBYWithdrawal=function(c,d){var e=b.USERJINBAOYIN.WITHDRAWAL;return a.post(e,{amount:c,paymentPassword:d}).then(function(a){return a.data})},g.removeCard=function(c){var d=b.BANKCARD.REMOVE;return a.post(d,{bankCardNo:c}).then(function(a){return 200===a.status})},g.resetLoginPassword=function(c,d){var e=b.USER.RESETLOGINPASSWORD;return a.post(e,{password:c,token:d}).then(function(a){return 200===a.status})},g.resetPaymentPassword=function(c,d,e,f){var g=b.USER.RESETPAYMENTPASSWORD;return a.post(g,{credentialNo:c,password:d,token:e,userRealName:f}).then(function(a){return 200===a.status})},g.sendVeriCode=function(d,e){var g=b.USER.SENDVERICODE;return a.post(g,{cellphone:d,type:parseInt(e,10)}).then(function(a){return a.data}).then(function(a){return!a.success||a.remainCount<0?(f.showAlert(c.ALERT.USER.TOO_MANY_VERI_CODE),!1):!0})},g.setPaymentPassword=function(c){var d=b.USER.SETPAYMENTPASSWORD;return a.post(d,{password:c}).then(function(a){return 200===a.status})},g.signUp=function(c,d){var e,f=b.USER.SINGUP;return e=ionic.Platform.isIOS()?901:ionic.Platform.isAndroid()?902:903,a.post(f,{clientType:e,contractId:0,inviteBy:"jinyinmao",outletCode:"jinyinmao",password:c,token:d}).then(function(a){return a.data})},g.verifyBankCardByYilian=function(c){var d=b.BANKCARD.VERIFYBANKCARDBYYILIAN;return a.post(d,{bankCardNo:c}).then(function(a){return 200===a.status})},g.verifyVeriCode=function(d,e,g){var h=b.USER.VERIFYVERICODE;return a.post(h,{cellphone:d,type:parseInt(g,10),code:e}).then(function(a){return a.data}).then(function(a){return!a.success||a.remainCount<0?(f.showAlert(c.ALERT.USER.VERI_CODE_FAIL),!1):a})},g.withdrawal=function(c,d,e){var f=b.SETTLEACCOUNT.WITHDRAWAL;return a.post(f,{amount:c,bankCardNo:d,paymentPassword:e}).then(function(a){return a.data})}}]),angular.module("jym.shangpiao.detail",["jym.services","jym.services.product","jym.services.purchase","jym.services.user","jym.shangpiao.purchase"]).config(["$stateProvider",function(a){a.state("jym.shangpiao-detail",{url:"/shangpiao/detail/{productIdentifier}",views:{shangpiao:{controller:"ShangpiaoDetailCtrl as product",templateUrl:"app/shangpiao/detail/detail.tpl.html"}}})}]).controller("ShangpiaoDetailCtrl",["$scope","$state","$stateParams","$timeout","$q","ProductService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g,h,i){var j=this,k=function(a){return f.getSaleProgress(a.paidAmount,a.financingSumAmount,a.soldOut,a.startSellTime,a.endSellTime)},l=function(a){var b=f.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonText:"售 罄"}}},m=function(a){return f.getValueDateModeText(a)};j.model={},j.viewModel={},j.viewModel.investCount=10,j.viewModel.investAmount=0,j.viewModel.expectedInterest=0,j.doRefresh=function(){j.refreshProduct(),d(function(){a.$broadcast("scroll.refreshComplete")},500)},j.investCountChange=function(){j.viewModel.investCount<0&&(j.viewModel.investCount=0),j.viewModel.investCount>j.viewModel.remainCount&&(j.viewModel.investCount=parseInt(j.viewModel.remainCount,10)),j.refreshInvestViewModel()},j.getAccrualDuration=function(){var a=(moment(j.model.settleDate)-moment(j.model.valueDate))/864e5;return parseInt(a,10)},j.goPurchase=function(){if(j.goPurchaseButtonEnable()){var a=j.viewModel.investCount*j.model.unitPrice,c=h.checkUserPurchaseStatus(),d=f.checkProductPurchaseStatus(j.refreshProduct(),a);e.all([c,d]).then(function(c){g.buildRegularOrder(a,c[1].productIdentifier,100000020),b.go("jym.shangpiao-purchase")})["catch"](function(a){i.showAlert(a)})}},j.goPurchaseButtonEnable=function(){return 20===j.viewModel.status.status&&j.viewModel.investAmount&&j.viewModel.investAmount>=j.viewModel.unitPrice},j.refreshInvestViewModel=function(){isFinite(j.viewModel.investCount)?j.viewModel.investAmount=j.viewModel.investCount*j.viewModel.unitPrice:j.viewModel.investAmount=0,j.viewModel.expectedInterest=(f.getInterest(100*j.viewModel.investAmount,j.model["yield"],j.getAccrualDuration())/100).toFixed(2)},j.refreshProduct=function(){return f.getRegularProductInfo(c.productIdentifier).then(function(a){return j.model=a,j.refreshViewModel(),j.refreshInvestViewModel(),a})},j.refreshViewModel=function(){j.viewModel.bankName=j.model.bankName,j.viewModel.drawee=j.model.drawee,j.viewModel.draweeInfo=j.model.draweeInfo,j.viewModel.endorseImageLink=j.model.endorseImageLink,j.viewModel.endSellTime=j.model.endSellTime,j.viewModel.enterpriseInfo=j.model.enterpriseInfo,j.viewModel.enterpriseLicense=j.model.enterpriseLicense,j.viewModel.enterpriseName=j.model.enterpriseName,j.viewModel.financingSumAmount=j.model.financingSumAmount/1e6,j.viewModel.issueNo=j.model.issueNo,j.viewModel.issueTime=j.model.issueTime,j.viewModel.paidAmount=j.model.paidAmount,j.viewModel.period=j.model.period,j.viewModel.productCategory=j.model.productCategory,j.viewModel.productIdentifier=j.model.productIdentifier,j.viewModel.productName=j.model.productName+" 第"+j.model.issueNo+"期",j.viewModel.productNo=j.model.productNo,j.viewModel.remainCount=((j.model.financingSumAmount-j.model.paidAmount)/j.model.unitPrice).toFixed(0),j.viewModel.repaid=j.model.repaid,j.viewModel.repaidTime=j.model.repaidTime,j.viewModel.repaymentDeadline=j.model.repaymentDeadline,j.viewModel.riskManagement=j.model.riskManagement,j.viewModel.riskManagementInfo=j.model.riskManagementInfo,j.viewModel.riskManagementMode=j.model.riskManagementMode,j.viewModel.sellProgress=k(j.model),j.viewModel.sellProgressInCircleProgress=j.viewModel.sellProgress/100,j.viewModel.settleDate=j.model.settleDate,j.viewModel.soldOut=j.model.soldOut,j.viewModel.soldOutTime=j.model.soldOutTime,j.viewModel.specifyValueDate=j.model.specifyValueDate,j.viewModel.startSellTime=j.model.startSellTime,j.viewModel.status=l(j.model),j.viewModel.unitPrice=(j.model.unitPrice/100).toFixed(0),j.viewModel.usage=j.model.usage,j.viewModel.valueDate=j.model.valueDate,j.viewModel.valueDateMode=j.model.valueDateMode,j.viewModel.valueDateText=m(j.model.valueDateMode,j.model.valueDate,j.model.specifyValueDate),j.viewModel["yield"]=j.model["yield"]/100,20!==j.viewModel.status.status&&(j.viewModel.remainCount=0)},j.doRefresh()}]),angular.module("jym.shangpiao.purchase",["jym.services","jym.services.product","jym.services.purchase","jym.services.user","jym.user.orders-detail"]).config(["$stateProvider",function(a){a.state("jym.shangpiao-purchase",{url:"/shangpiao/purchase",views:{shangpiao:{controller:"ShangpiaoPurchaseCtrl as purchase",templateUrl:"app/shangpiao/purchase/purchase.tpl.html"}}})}]).controller("ShangpiaoPurchaseCtrl",["$scope","$timeout","RESOURCES","ProductService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g){var h=this;h.model={},h.viewModel={},h.model.currentUser={},h.model.order={},h.viewModel.password=void 0,h.viewModel.checked=!0,h.check=function(){h.viewModel.checked=!h.viewModel.checked},h.doRefresh=function(){h.refreshUserInfo().then(function(a){return h.model.currentUser=a,h.model.order=e.getRegularOrder(100000020),h.refreshViewModel(),a})},h.refreshUserInfo=function(){return f.getUserInfo()},h.refreshViewModel=function(){h.viewModel.balance=(h.model.currentUser.balance/100).toFixed(2),h.viewModel.amount=(h.model.order.amount/100).toFixed(2),h.viewModel.agreement2="借款协议",h.viewModel.agreement1="委托协议"},h.purchaseButtonEnable=function(){return h.viewModel.checked&&h.viewModel.amount&&h.viewModel.password&&h.model.currentUser.balance>=h.model.order.amount},h.purchase=function(){if(h.purchaseButtonEnable()){var a=parseInt(100*h.model.order.amount,10);f.investingRegular(a,h.viewModel.password,h.model.order.productIdentifier).then(function(a){a&&(g.showAlert(c.TIP.INVESTING.REGULAR),e.clearRegularOrder(),b(function(){g.go("jym.user-orders-detail",{orderIdentifier:a.orderIdentifier})},1e3))})}},a.$on("$ionicView.enter",function(){h.doRefresh()}),h.doRefresh()}]),angular.module("jym.shangpiao",["jym.services","jym.shangpiao.detail"]).config(["$stateProvider",function(a){a.state("jym.shangpiao",{url:"/shangpiao",views:{shangpiao:{controller:"ShangpiaoIndexCtrl as products",templateUrl:"app/shangpiao/index.tpl.html"}}})}]).controller("ShangpiaoIndexCtrl",["$scope","$timeout","$filter","ProductService",function(a,b,c,d){var e=this,f=function(a){return d.getSaleProgress(a.paidAmount,a.financingSumAmount)},g=function(a){var b=d.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonClass:"",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonClass:"",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonClass:"",buttonText:"售 罄"}}},h=function(a,b,c){return d.getValueDateModeText(a,b,c)},i=function(a){var b={};return b.bankName=a.bankName,b.drawee=a.drawee,b.draweeInfo=a.draweeInfo,b.endorseImageLink=a.endorseImageLink,b.endSellTime=a.endSellTime,b.enterpriseInfo=a.enterpriseInfo,b.enterpriseLicense=a.enterpriseLicense,b.enterpriseName=a.enterpriseName,b.financingSumAmount=a.financingSumAmount/1e6,b.issueNo=a.issueNo,b.issueTime=a.issueTime,b.paidAmount=a.paidAmount,b.period=a.period,b.productCategory=a.productCategory,b.productIdentifier=a.productIdentifier,b.productName=a.productName+" 第"+a.issueNo+"期",b.productNo=a.productNo,b.remainCount=((a.financingSumAmount-a.paidAmount)/a.unitPrice).toFixed(0),b.repaid=a.repaid,b.repaidTime=a.repaidTime,b.repaymentDeadline=a.repaymentDeadline,b.riskManagement=a.riskManagement,b.riskManagementInfo=a.riskManagementInfo,b.riskManagementMode=a.riskManagementMode,b.sellProgress=f(a),b.sellProgressInCircleProgress=b.sellProgress/100,b.settleDate=a.settleDate,b.soldOut=a.soldOut,b.soldOutTime=a.soldOutTime,b.specifyValueDate=a.specifyValueDate,b.startSellTime=a.startSellTime,b.status=g(a),b.unitPrice=(a.unitPrice/100).toFixed(0),b.usage=a.usage,b.valueDate=a.valueDate,b.valueDateMode=a.valueDateMode,b.valueDateText=h(a.valueDateMode,a.valueData,a.specifyValueDate),b["yield"]=a["yield"]/100,10===b.status.status?(b.statusText="待售",b.statusTextClass="",b.timeText="开售时间 "+c("time")(b.startSellTime)):20===b.status.status?(b.statusText="抢购 已售出"+b.sellProgress+"%",b.statusTextClass="",b.timeText="起息时间 "+b.valueDateText):(b.statusText="售罄 请期待下期",b.statusTextClass="",b.timeText="还款时间 "+c("time")(b.repaymentDeadline)),b};e.viewModel={},e.viewModel.items=[],e.viewModel.currentPageIndex=0,e.viewModel.nextPageIndex=0,e.viewModel.pageSize=10,e.viewModel.totalCount=0,e.viewModel.totalPageCount=1,e.loadMoreData=function(){d.getShangpiaoPage(e.viewModel.nextPageIndex).then(function(a){e.viewModel.currentPageIndex=a.pageIndex,e.viewModel.nextPageIndex=a.pageIndex+1,e.viewModel.pageSize=a.pageSize,e.viewModel.totalCount=a.totalCount,e.viewModel.totalPageCount=a.totalPageCount,_.forEach(a.items,function(a){e.viewModel.items.push(i(a))})}),b(function(){a.$broadcast("scroll.infiniteScrollComplete")},1e3)},e.moreDataCanBeLoaded=function(){return e.viewModel.nextPageIndex<e.viewModel.totalPageCount},e.doRefresh=function(){e.viewModel.items=[],e.viewModel.currentPageIndex=0,e.viewModel.nextPageIndex=0,e.viewModel.pageSize=10,e.viewModel.totalCount=0,e.viewModel.totalPageCount=1,b(function(){a.$broadcast("scroll.refreshComplete")},1e3)}}]),angular.module("jym.user.about",[]).config(["$stateProvider",function(a){a.state("jym.user-about",{url:"/about",views:{user:{controller:"AboutCtrl as ctrl",templateUrl:"app/user/about/about.tpl.html"}}})}]).controller("AboutCtrl",["APP",function(a){var b=this;b.viewModel={},b.viewModel=a.VERSION}]),angular.module("jym.user.bank-card-add",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-bank-card-add",{url:"/user/bank-card/add",views:{user:{controller:"UserBankCardAddCtrl as card",templateUrl:"app/user/bank-card/add/add.tpl.html"}}}).state("jym.user-bank-card-add-bank-selector",{url:"/user/bank-card/add/select-bank",views:{user:{controller:"UserBankCardAddBankSelectorCtrl as ctrl",templateUrl:"app/user/bank-card/add/bankSelector.tpl.html"}}}).state("jym.user-bank-card-add-method-selector",{url:"/user/bank-card/add/select-method",views:{user:{templateUrl:"app/user/bank-card/add/methodSelector.tpl.html"}}})}]).controller("UserBankCardAddCtrl",["$scope","$state","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e,f){var g=this;g.model={},g.viewModel={},g.buttonEnable=function(){return g.viewModel.cellphone&&g.viewModel.realName&&g.viewModel.credentialNo&&g.viewModel.bankCardNo&&g.viewModel.bankName},g.doRefresh=function(){g.refreshUser().then(function(a){return g.model.user=a,g.refreshViewModel(),a})},g.refreshUser=function(){return e.getUserInfo()},g.refreshViewModel=function(){g.viewModel.cellphone=g.model.user.cellphone,g.viewModel.bankCardsCount=g.model.user.bankCardsCount,g.viewModel.hasSetPaymentPassword=g.model.user.hasSetPaymentPassword,g.viewModel.shouldAddBankCard=g.viewModel.bankCardsCount<=0,g.viewModel.verified?(g.viewModel.realName=g.model.user.realName,g.viewModel.credentialNo=g.model.user.credentialNo):(g.viewModel.realName=g.viewModel.realName||"",g.viewModel.credentialNo=g.viewModel.credentialNo||""),g.viewModel.bankCardNo=g.viewModel.bankCardNo||"",g.viewModel.bankName=e.sharedData.addBankName||"工商银行"},g.verify=function(){g.buttonEnable()&&(g.viewModel.verified?e.addBankCard(g.viewModel.bankCardNo,g.viewModel.bankName).then(function(a){a&&(f.showAlert(d.TIP.BANKCARD.SIGN),c(function(){f.goWithDisableBack("jym.user-bank-card-yilian-notice")},1e3))}):e.authenticate(g.viewModel.bankCardNo,g.viewModel.bankName,g.viewModel.credentialNo,g.viewModel.realName).then(function(a){a&&(f.showAlert(d.TIP.BANKCARD.SIGN),c(function(){f.goWithDisableBack("jym.user-bank-card-yilian-notice")},1e3))}))},a.$on("$ionicView.enter",function(){g.doRefresh()}),g.doRefresh()}]).controller("UserBankCardAddBankSelectorCtrl",["$ionicHistory","UserService",function(a,b){var c=this;c.items=["浦发银行","深发银行","平安银行","民生银行","工商银行","农业银行","建设银行","招商银行","广发银行","广州银行","邮储银行","兴业银行","光大银行","华夏银行","中信银行","广州农商行","中国银行","富滇银行"],c.select=function(c){b.sharedData.addBankName=c,a.goBack()}}]),angular.module("jym.user.bank-card",["jym.services.user","jym.user.bank-card-add","jym.user.bank-card-detail"]).config(["$stateProvider",function(a){a.state("jym.user-bank-card",{url:"/user/bank-card",views:{user:{controller:"UserBankCardCtrl as cards",templateUrl:"app/user/bank-card/bank-card.tpl.html"}}}).state("jym.user-bank-card-yilian-notice",{url:"/user/bank-card/yilian-notice",views:{user:{controller:"UserBankCardYilianNoticeCtrl as ctrl",templateUrl:"app/user/bank-card/yilian-notice.tpl.html"}}})}]).controller("UserBankCardCtrl",["$scope","$state","$timeout","RESOURCES","UserService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.viewModel.items=[],f.doRefresh=function(){f.refreshBankCards().then(function(a){return f.model=a,f.refreshViewModel(),a}),c(function(){a.$broadcast("scroll.refreshComplete")},1e3)},f.refreshBankCards=function(){return e.getBankCards()},f.refreshViewModel=function(){f.viewModel.items=f.model},f.showAddButton=function(){return f.viewModel.items.length<10},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]).controller("UserBankCardYilianNoticeCtrl",["JYMUtilityService",function(a){var b=this;b.go=function(b,c){c=c||{},a.goWithDisableBack(b,c)}}]),angular.module("jym.user.bank-card-detail",["jym.services","jym.services.user","jym.user.bank-card-upgrade"]).config(["$stateProvider",function(a){a.state("jym.user-bank-card-detail",{url:"/user/bank-card-detail/{bankCardNo}",views:{user:{controller:"UserBankCardDetailCtrl as card",templateUrl:"app/user/bank-card/detail/detail.tpl.html"}}})}]).controller("UserBankCardDetailCtrl",["$scope","$state","$stateParams","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e,f,g){var h=this;h.model={},h.viewModel={},h.doRefresh=function(){h.refreshBankCard().then(function(a){return h.model=a,h.refreshViewModel(),a}),d(function(){a.$broadcast("scroll.refreshComplete")},1e3)},h.refreshBankCard=function(){return f.getBankCard(c.bankCardNo)},h.refreshViewModel=function(){h.viewModel=h.model},h.removeCard=function(){h.model.bankCardNo&&f.removeCard(h.model.bankCardNo).then(function(){g.showAlert(e.TIP.BANKCARD.REMOVE_SUCCESS),d(function(){g.goWithDisableBack("jym.user-bank-card")},1e3)})},a.$on("$ionicView.enter",function(){h.doRefresh()}),h.doRefresh()}]),angular.module("jym.user.bank-card-upgrade",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-bank-card-upgrade",{url:"/user/bank-card-upgrade/{bankCardNo}",views:{user:{controller:"UserBankCardUpgradeCtrl as card",templateUrl:"app/user/bank-card/upgrade/upgrade.tpl.html"}}})}]).controller("UserBankCardUpgradeCtrl",["$scope","$state","$stateParams","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e,f,g){var h=this;h.model={},h.viewModel={},h.buttonEnable=function(){return h.viewModel.cellphone&&h.viewModel.realName&&h.viewModel.credentialNo&&h.viewModel.bankCardNo&&h.viewModel.bankName},h.doRefresh=function(){h.refreshUser().then(function(a){return h.model.user=a,a}).then(function(){h.refreshBankCard().then(function(a){h.model.card=a,h.refreshViewModel()})})},h.refreshBankCard=function(){return f.getBankCard(c.bankCardNo)},h.refreshUser=function(){return f.getUserInfo()},h.refreshViewModel=function(){h.viewModel.verified=h.model.user.verified,h.viewModel.cellphone=h.model.user.cellphone,h.viewModel.verified?(h.viewModel.realName=h.model.user.realName,h.viewModel.credentialNo=h.model.user.credentialNo):(h.viewModel.realName="",h.viewModel.credentialNo=""),h.viewModel.bankCardNo=h.model.card.bankCardNo,h.viewModel.bankName=h.model.card.bankName},h.verify=function(){h.buttonEnable()&&(h.viewModel.verified?f.verifyBankCardByYilian(h.viewModel.bankCardNo).then(function(a){a&&(g.showAlert(e.TIP.BANKCARD.SIGN),d(function(){g.goWithDisableBack("jym.user-bank-card-yilian-notice")},1e3))}):f.authenticate(h.viewModel.bankCardNo,h.viewModel.bankName,h.viewModel.credentialNo,h.viewModel.realName).then(function(a){a&&(g.showAlert(e.TIP.BANKCARD.SIGN),d(function(){g.goWithDisableBack("jym.user-bank-card-yilian-notice")},1e3))}))},a.$on("$ionicView.enter",function(){h.doRefresh()}),h.doRefresh()}]),angular.module("jym.user.jinbaoyin-detail",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-jinbaoyin-detail",{url:"/user/jinbaoyin/detail/{transactionIdentifier}",views:{user:{controller:"UserJinbaoyinDetailCtrl as transaction",templateUrl:"app/user/jinbaoyin/detail/detail.tpl.html"}}})}]).controller("UserJinbaoyinDetailCtrl",["$scope","$stateParams","$timeout","UserService",function(a,b,c,d){var e=this;e.model={},e.viewModel={},e.doRefresh=function(){e.refresh().then(function(a){return e.model=a,e.refreshViewModel(),a}),c(function(){a.$broadcast("scroll.refreshComplete")},1e3)},e.refresh=function(){return d.getJBYAccountTransaction(b.transactionIdentifier)},e.refreshViewModel=function(){e.viewModel.amount=(e.model.amount/100).toFixed(2),e.viewModel.predeterminedResultDate=e.model.predeterminedResultDate,e.viewModel.resultCode=e.model.resultCode,e.viewModel.resultTime=e.model.resultTime,e.viewModel.settleAccountTranscationId=e.model.settleAccountTranscationId,e.viewModel.trade=e.model.trade,e.viewModel.tradeCode=e.model.tradeCode,e.viewModel.transactionIdentifier=e.model.transactionIdentifier,e.viewModel.transactionTime=e.model.transactionTime,e.viewModel.transDesc=e.model.transDesc,e.viewModel.resultStyle={color:"#444"},1===e.viewModel.resultCode&&(e.viewModel.resultStyle={color:"#47B28B"}),-1===e.viewModel.resultCode&&(e.viewModel.resultStyle={color:"#E74C3C"})},a.$on("$ionicView.enter",function(){e.doRefresh()}),e.doRefresh()}]),angular.module("jym.user.jinbaoyin",["jym.services.user","jym.user.jinbaoyin-list"]).config(["$stateProvider",function(a){a.state("jym.user-jinbaoyin",{url:"/user/jinbaoyin",views:{user:{controller:"UserJinbaoyinCtrl as ctrl",templateUrl:"app/user/jinbaoyin/jinbaoyin.tpl.html"}}})}]).controller("UserJinbaoyinCtrl",["$scope","$state","$timeout","RESOURCES","JinbaoyinService","UserService",function(a,b,c,d,e,f){var g=this;g.model={},g.viewModel={},g.doRefresh=function(){g.refreshUser().then(function(a){return g.model.user=a,g.refreshUserViewModel(),a}),c(function(){a.$broadcast("scroll.refreshComplete")},1e3)},g.refreshUser=function(){return f.getUserInfo()},g.refreshProduct=function(){return e.getIndex()},g.refreshProductViewModel=function(){g.viewModel.jBYYield=g.model.product["yield"]/100},g.refreshUserViewModel=function(){g.viewModel.jBYLastInterest=(g.model.user.jBYLastInterest/100).toFixed(2),g.viewModel.jBYTotalAmount=(g.model.user.jBYTotalAmount/100).toFixed(2),g.viewModel.jBYTotalInterest=(g.model.user.jBYTotalInterest/100).toFixed(2),g.viewModel.jBYTotalPricipal=(g.model.user.jBYTotalPricipal/100).toFixed(2),g.viewModel.jBYWithdrawalableAmount=(g.model.user.jBYWithdrawalableAmount/100).toFixed(2),g.viewModel.todayJBYWithdrawalAmount=(g.model.user.todayJBYWithdrawalAmount/100).toFixed(2)},a.$on("$ionicView.enter",function(){g.doRefresh()}),g.doRefresh()}]),angular.module("jym.user.jinbaoyin-list",["jym.services.user","jym.user.jinbaoyin-detail"]).config(["$stateProvider",function(a){a.state("jym.user-jinbaoyin-list",{url:"/user/jinbaoyin/list",views:{user:{controller:"UserJinbaoyinListCtrl as account",templateUrl:"app/user/jinbaoyin/list/list.tpl.html"}}})}]).controller("UserJinbaoyinListCtrl",["$scope","$timeout","UserService",function(a,b,c){var d=this,e=function(a){var b={};return b.amount=(a.amount/100).toFixed(2),b.predeterminedResultDate=a.predeterminedResultDate,b.resultCode=a.resultCode,b.resultTime=a.resultTime,b.trade=a.trade,b.tradeCode=a.tradeCode,b.transactionIdentifier=a.transactionIdentifier,b.transactionTime=a.transactionTime,b.transDesc=a.transDesc,b};d.viewModel={},d.viewModel.items=[],d.viewModel.currentPageIndex=0,d.viewModel.nextPageIndex=0,d.viewModel.pageSize=10,d.viewModel.totalCount=0,d.viewModel.totalPageCount=1,d.loadMoreData=function(){c.getOrderList(d.viewModel.nextPageIndex).then(function(a){d.viewModel.currentPageIndex=a.pageIndex,d.viewModel.nextPageIndex=a.pageIndex+1,d.viewModel.pageSize=a.pageSize,d.viewModel.totalCount=a.totalCount,d.viewModel.totalPageCount=a.totalPageCount,_.forEach(a.items,function(a){d.viewModel.items.push(e(a))})}),b(function(){a.$broadcast("scroll.infiniteScrollComplete")},1e3)},d.moreDataCanBeLoaded=function(){return d.viewModel.nextPageIndex<d.viewModel.totalPageCount},d.doRefresh=function(){d.viewModel.items=[],d.viewModel.currentPageIndex=0,d.viewModel.nextPageIndex=0,d.viewModel.pageSize=10,d.viewModel.totalCount=0,d.viewModel.totalPageCount=1,b(function(){a.$broadcast("scroll.refreshComplete")},1e3)},d.doRefresh()}]),angular.module("jym.user.jinbaoyin-withdrawal",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-jinbaoyin-withdrawal",{url:"/user/jinbaoyin/withdrawal",views:{user:{controller:"UserJinbaoyinWithdrawalCtrl as account",templateUrl:"app/user/jinbaoyin/withdrawal/withdrawal.tpl.html"}}})}]).controller("UserJinbaoyinWithdrawalCtrl",["$scope","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.viewModel.amount=void 0,f.viewModel.password=void 0,f.buttonEnable=function(){return f.viewModel.amount&&f.viewModel.password&&f.viewModel.amount<=f.viewModel.todayJBYWithdrawalableAmount},f.doRefresh=function(){f.refresh().then(function(a){return f.model.currentUser=a,f.refreshViewModel(),a})},f.refresh=function(){return d.getUserInfo()},f.refreshViewModel=function(){f.viewModel.userBalance=(f.model.currentUser.balance/100).toFixed(2),f.viewModel.jBYLastInterest=(f.model.user.jBYLastInterest/100).toFixed(2),f.viewModel.jBYTotalAmount=(f.model.user.jBYTotalAmount/100).toFixed(2),f.viewModel.jBYTotalInterest=(f.model.user.jBYTotalInterest/100).toFixed(2),f.viewModel.jBYTotalPricipal=(f.model.user.jBYTotalPricipal/100).toFixed(2),f.viewModel.jBYWithdrawalableAmount=(f.model.user.jBYWithdrawalableAmount/100).toFixed(2),f.viewModel.todayJBYWithdrawalAmount=(f.model.user.todayJBYWithdrawalAmount/100).toFixed(2),f.viewModel.todayJBYWithdrawalableAmount=1e5-f.viewModel.todayJBYWithdrawalAmount,f.viewModel.todayJBYWithdrawalableAmount>f.viewModel.jBYWithdrawalableAmount&&(f.viewModel.todayJBYWithdrawalableAmount=f.viewModel.jBYWithdrawalableAmount)},f.withdraw=function(){var a=parseInt(100*f.viewModel.amount,10);f.buttonEnable()&&d.jBYWithdrawal(a,f.viewModel.password).then(function(a){a&&(e.showAlert(c.TIP.JINBAOYIN.WITHDRAWAL_SUCCESS),b(function(){e.goWithDisableBack("jym.user-jinbaoyin-detail",{transactionIdentifier:a.transactionIdentifier})},1e3))})},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]),angular.module("jym.user.login",["jym.services.user","jym.user.signup"]).config(["$stateProvider",function(a){a.state("jym.user-login",{url:"/user/login/{backState}",views:{user:{controller:"UserLoginCtrl as user",templateUrl:"app/user/login/login.tpl.html"}}})}]).controller("UserLoginCtrl",["$scope","$stateParams","$timeout","RESOURCES","REGEX","UserService","JYMUtilityService",function(a,b,c,d,e,f,g){var h=this;h.viewModel={},h.viewModel.cellphone=void 0,h.viewModel.password=void 0,h.doRefresh=function(){h.viewModel.password=void 0},h.login=function(){h.loginButtonEnable()&&f.login(h.viewModel.cellphone,h.viewModel.password).then(function(a){return a.userExist?a.lock?void g.showAlert(d.ALERT.USER.USER_LOGIN_PASSWORD_LOCK):a.remainCount<3?void g.showAlert(d.ALERT.USER.USER_LOGIN_PASSWORD_REMIAN_LESS):a.success?(g.showAlert(d.TIP.USER.LOGIN_SUCCESS),void c(function(){g.goWithDisableBack("jym.user")},1e3)):void g.showAlert(d.ALERT.USER.USER_LOGIN_FAIL):void g.showAlert(d.ALERT.USER.USER_NOT_EXIST)})},h.loginButtonEnable=function(){return h.viewModel.cellphone&&h.viewModel.password},a.$on("$ionicView.enter",function(){h.doRefresh()})}]),angular.module("jym.user.orders-detail",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-orders-detail",{url:"/user/orders/detail/{orderIdentifier}",views:{user:{controller:"UserOrderDetailCtrl as order",templateUrl:"app/user/order/detail/detail.tpl.html"}}})}]).controller("UserOrderDetailCtrl",["$scope","$stateParams","$timeout","UserService",function(a,b,c,d){
var e=this;e.model={},e.viewModel={},e.doRefresh=function(){e.refresh().then(function(a){return e.model=a,e.refreshViewModel(),a}),c(function(){a.$broadcast("scroll.refreshComplete")},1e3)},e.refresh=function(){return d.getOrderInfo(b.orderIdentifier)},e.refreshViewModel=function(){e.viewModel.accountTransactionIdentifier=e.model.accountTransactionIdentifier,e.viewModel.extraInterest=(e.model.extraInterest/100).toFixed(2),e.viewModel.extraInterestRecords=e.model.extraInterestRecords,e.viewModel.extraYield=(e.model.extraYield/100).toFixed(2),e.viewModel.interest=(e.model.interest/100).toFixed(2),e.viewModel.isRepaid=e.model.isRepaid,e.viewModel.orderIdentifier=e.model.orderIdentifier,e.viewModel.orderNo=e.model.orderNo,e.viewModel.orderTime=e.model.orderTime,e.viewModel.principal=(e.model.principal/100).toFixed(2),e.viewModel.productCategory=e.model.productCategory,e.viewModel.productIdentifier=e.model.productIdentifier,e.viewModel.repaidTime=e.model.repaidTime,e.viewModel.resultCode=e.model.resultCode,e.viewModel.resultTime=e.model.resultTime,e.viewModel.settleDate=e.model.settleDate,e.viewModel.transDesc=e.model.transDesc,e.viewModel.valueDate=e.model.valueDate,e.viewModel["yield"]=(e.model["yield"]/100).toFixed(2),e.viewModel.productSnapshot={},e.viewModel.productSnapshot.bankName=e.model.productSnapshot.bankName,e.viewModel.productSnapshot.drawee=e.model.productSnapshot.drawee,e.viewModel.productSnapshot.draweeInfo=e.model.productSnapshot.draweeInfo,e.viewModel.productSnapshot.endorseImageLink=e.model.productSnapshot.endorseImageLink,e.viewModel.productSnapshot.endSellTime=e.model.productSnapshot.endSellTime,e.viewModel.productSnapshot.enterpriseInfo=e.model.productSnapshot.enterpriseInfo,e.viewModel.productSnapshot.enterpriseLicense=e.model.productSnapshot.enterpriseLicense,e.viewModel.productSnapshot.enterpriseName=e.model.productSnapshot.enterpriseName,e.viewModel.productSnapshot.financingSumAmount=(e.model.productSnapshot.financingSumAmount/100).toFixed(2),e.viewModel.productSnapshot.issueNo=e.model.productSnapshot.issueNo,e.viewModel.productSnapshot.issueTime=e.model.productSnapshot.issueTime,e.viewModel.productSnapshot.paidAmount=(e.model.productSnapshot.paidAmount/100).toFixed(2),e.viewModel.productSnapshot.period=e.model.productSnapshot.period,e.viewModel.productSnapshot.pledgeNo=e.model.productSnapshot.pledgeNo,e.viewModel.productSnapshot.productCategory=e.model.productSnapshot.productCategory,e.viewModel.productSnapshot.productIdentifier=e.model.productSnapshot.productIdentifier,e.viewModel.productSnapshot.productName=e.model.productSnapshot.productName,e.viewModel.productSnapshot.productNo=e.model.productSnapshot.productNo,e.viewModel.productSnapshot.productTitle=e.viewModel.productSnapshot.productName+" 第"+parseInt(e.viewModel.productSnapshot.issueNo,10)+"期",e.viewModel.productSnapshot.repaid=e.model.productSnapshot.repaid,e.viewModel.productSnapshot.repaidTime=e.model.productSnapshot.repaidTime,e.viewModel.productSnapshot.repaymentDeadline=e.model.productSnapshot.repaymentDeadline,e.viewModel.productSnapshot.riskManagement=e.model.productSnapshot.riskManagement,e.viewModel.productSnapshot.riskManagementInfo=e.model.productSnapshot.riskManagementInfo,e.viewModel.productSnapshot.riskManagementMode=e.model.productSnapshot.riskManagementMode,e.viewModel.productSnapshot.settleDate=e.model.productSnapshot.settleDate,e.viewModel.productSnapshot.soldOut=e.model.productSnapshot.soldOut,e.viewModel.productSnapshot.soldOutTime=e.model.productSnapshot.soldOutTime,e.viewModel.productSnapshot.specifyValueDate=e.model.productSnapshot.riskManagement,e.viewModel.productSnapshot.startSellTime=e.model.productSnapshot.riskManagementInfo,e.viewModel.productSnapshot.unitPrice=(e.model.productSnapshot.riskManagementMode/100).toFixed(2),e.viewModel.productSnapshot.usage=e.model.productSnapshot.settleDate,e.viewModel.productSnapshot.valueDate=e.model.productSnapshot.soldOut,e.viewModel.productSnapshot.valueDateMode=e.model.productSnapshot.soldOutTime,e.viewModel.productSnapshot["yield"]=(e.model.productSnapshot["yield"]/100).toFixed(2);var a=moment();e.viewModel.isRepaid?e.viewModel.statusText="已还款":a>moment(e.viewModel.settleDate)?e.viewModel.statusText="已结息":a>a>moment(e.viewModel.valueDate)?e.viewModel.statusText="已起息":e.viewModel.statusText="下单成功"},a.$on("$ionicView.enter",function(){e.doRefresh()}),e.doRefresh()}]),angular.module("jym.user.orders",["jym.services.user","jym.user.settle-account-detail"]).config(["$stateProvider",function(a){a.state("jym.user-orders",{url:"/user/orders",views:{user:{controller:"UserOrdersCtrl as orders",templateUrl:"app/user/order/order.tpl.html"}}})}]).controller("UserOrdersCtrl",["$scope","$timeout","UserService",function(a,b,c){var d=this,e=function(a){var b={};b.accountTransactionIdentifier=a.accountTransactionIdentifier,b.extraInterest=(a.extraInterest/100).toFixed(2),b.extraInterestRecords=a.extraInterestRecords,b.extraYield=(a.extraYield/100).toFixed(2),b.interest=(a.interest/100).toFixed(2),b.isRepaid=a.isRepaid,b.orderIdentifier=a.orderIdentifier,b.orderNo=a.orderNo,b.orderTime=a.orderTime,b.principal=(a.principal/100).toFixed(2),b.productCategory=a.productCategory,b.productIdentifier=a.productIdentifier,b.repaidTime=a.repaidTime,b.resultCode=a.resultCode,b.resultTime=a.resultTime,b.settleDate=a.settleDate,b.transDesc=a.transDesc,b.valueDate=a.valueDate,b["yield"]=(a["yield"]/100).toFixed(2),b.productSnapshot={},b.productSnapshot.bankName=a.productSnapshot.bankName,b.productSnapshot.drawee=a.productSnapshot.drawee,b.productSnapshot.draweeInfo=a.productSnapshot.draweeInfo,b.productSnapshot.endorseImageLink=a.productSnapshot.endorseImageLink,b.productSnapshot.endSellTime=a.productSnapshot.endSellTime,b.productSnapshot.enterpriseInfo=a.productSnapshot.enterpriseInfo,b.productSnapshot.enterpriseLicense=a.productSnapshot.enterpriseLicense,b.productSnapshot.enterpriseName=a.productSnapshot.enterpriseName,b.productSnapshot.financingSumAmount=(a.productSnapshot.financingSumAmount/100).toFixed(2),b.productSnapshot.issueNo=a.productSnapshot.issueNo,b.productSnapshot.issueTime=a.productSnapshot.issueTime,b.productSnapshot.paidAmount=(a.productSnapshot.paidAmount/100).toFixed(2),b.productSnapshot.period=a.productSnapshot.period,b.productSnapshot.pledgeNo=a.productSnapshot.pledgeNo,b.productSnapshot.productCategory=a.productSnapshot.productCategory,b.productSnapshot.productIdentifier=a.productSnapshot.productIdentifier,b.productSnapshot.productName=a.productSnapshot.productName,b.productSnapshot.productNo=a.productSnapshot.productNo,b.productSnapshot.productTitle=b.productSnapshot.productName+" 第"+parseInt(b.productSnapshot.issueNo,10)+"期",b.productSnapshot.repaid=a.productSnapshot.repaid,b.productSnapshot.repaidTime=a.productSnapshot.repaidTime,b.productSnapshot.repaymentDeadline=a.productSnapshot.repaymentDeadline,b.productSnapshot.riskManagement=a.productSnapshot.riskManagement,b.productSnapshot.riskManagementInfo=a.productSnapshot.riskManagementInfo,b.productSnapshot.riskManagementMode=a.productSnapshot.riskManagementMode,b.productSnapshot.settleDate=a.productSnapshot.settleDate,b.productSnapshot.soldOut=a.productSnapshot.soldOut,b.productSnapshot.soldOutTime=a.productSnapshot.soldOutTime,b.productSnapshot.specifyValueDate=a.productSnapshot.riskManagement,b.productSnapshot.startSellTime=a.productSnapshot.riskManagementInfo,b.productSnapshot.unitPrice=(a.productSnapshot.riskManagementMode/100).toFixed(2),b.productSnapshot.usage=a.productSnapshot.settleDate,b.productSnapshot.valueDate=a.productSnapshot.soldOut,b.productSnapshot.valueDateMode=a.productSnapshot.soldOutTime,b.productSnapshot["yield"]=(a.productSnapshot["yield"]/100).toFixed(2);var c=moment();return b.isRepaid?b.statusText="已还款":c>moment(b.settleDate)?b.statusText="已结息":c>c>moment(b.valueDate)?b.statusText="已起息":b.statusText="下单成功",b};d.viewModel={},d.viewModel.items=[],d.viewModel.currentPageIndex=0,d.viewModel.nextPageIndex=0,d.viewModel.pageSize=10,d.viewModel.totalCount=0,d.viewModel.totalPageCount=1,d.loadMoreData=function(){c.getOrderList(d.viewModel.nextPageIndex).then(function(a){d.viewModel.currentPageIndex=a.pageIndex,d.viewModel.nextPageIndex=a.pageIndex+1,d.viewModel.pageSize=a.pageSize,d.viewModel.totalCount=a.totalCount,d.viewModel.totalPageCount=a.totalPageCount,_.forEach(a.items,function(a){d.viewModel.items.push(e(a))})}),b(function(){a.$broadcast("scroll.infiniteScrollComplete")},1e3)},d.moreDataCanBeLoaded=function(){return d.viewModel.nextPageIndex<d.viewModel.totalPageCount},d.doRefresh=function(){d.viewModel.items=[],d.viewModel.currentPageIndex=0,d.viewModel.nextPageIndex=0,d.viewModel.pageSize=10,d.viewModel.totalCount=0,d.viewModel.totalPageCount=1,b(function(){a.$broadcast("scroll.refreshComplete")},1e3)},d.doRefresh()}]),angular.module("jym.user.security-password",[]).config(["$stateProvider",function(a){a.state("jym.user-security-password",{url:"/user/security-password/{token}",views:{user:{controller:"UserSecurityPasswordCtrl as ctrl",templateUrl:"app/user/security/password/password.tpl.html"}}}).state("jym.user-security-password-send-veri-code",{url:"/user/security-password-send-veri-code",views:{user:{controller:"UserSecurityPasswordSendVeriCodeCtrl as ctrl",templateUrl:"app/user/security/password/sendVeriCode.tpl.html"}}})}]).controller("UserSecurityPasswordCtrl",["$scope","$timeout","$stateParams","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e,f){var g=this;g.viewModel={},g.viewModel.password=void 0,g.viewModel.confirmPassword=void 0,g.doRefresh=function(){g.viewModel.password=void 0,g.viewModel.confirmPassword=void 0},g.enableButton=function(){return g.viewModel.password&&g.viewModel.confirmPassword&&g.viewModel.password===g.viewModel.confirmPassword},g.resetPassword=function(){g.enableButton()&&e.resetLoginPassword(g.viewModel.password,c.token).then(function(a){a&&(f.showAlert(d.TIP.SECURITY.RESET_PASSWORD),e.loginOut(),b(function(){f.goWithDisableBack("jym.user-login")},1e3))})},a.$on("$ionicView.enter",function(){g.doRefresh()})}]).controller("UserSecurityPasswordSendVeriCodeCtrl",["$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d){var e=this;e.viewModel={},e.viewModel.cellphone=void 0,e.viewModel.veriCode=void 0,e.viewModel.remainSeconds=0,e.sendVeriCode=function(){e.sendVeriCodeButtonEnable()&&(e.viewModel.remainSeconds=60,c.sendVeriCode(e.viewModel.cellphone,20).then(function(a){a&&d.showAlert(b.TIP.MISC.SEND_VERI_CODE)}),e.startTimer())},e.sendVeriCodeButtonEnable=function(){return e.viewModel.cellphone&&e.viewModel.remainSeconds<=0},e.showVeriCodeButton=function(){return e.viewModel.remainSeconds<=0},e.startTimer=function(){e.viewModel.remainSeconds>0&&(e.viewModel.remainSeconds=e.viewModel.remainSeconds-1,a(e.startTimer,1e3))},e.verifyVeriCode=function(){e.verifyVeriCodeButtonEnable()&&c.verifyVeriCode(e.viewModel.cellphone,e.viewModel.veriCode,20).then(function(c){c&&(e.viewModel.remainSeconds=0,d.showAlert(b.TIP.MISC.VERIFY_VERI_CODE),a(function(){d.go("jym.user-security-password",{token:c.token})},1e3))})},e.verifyVeriCodeButtonEnable=function(){return e.viewModel.cellphone&&e.viewModel.veriCode}}]),angular.module("jym.user.security-payment-password",[]).config(["$stateProvider",function(a){a.state("jym.user-security-reset-payment-password",{url:"/user/security-reset-payment-password/{token}",views:{user:{controller:"UserSecurityPaymentPasswordCtrl as ctrl",templateUrl:"app/user/security/paymentPassword/paymentPassword.tpl.html"}}}).state("jym.user-security-set-payment-password",{url:"/user/security-set-payment-password",views:{user:{controller:"UserSecuritySetPaymentPasswordCtrl as ctrl",templateUrl:"app/user/security/paymentPassword/setPaymentPassword.tpl.html"}}}).state("jym.user-security-payment-password-send-veri-code",{url:"/user/security-payment-password-send-veri-code",views:{user:{controller:"UserSecurityPaymentPasswordSendVeriCodeCtrl as ctrl",templateUrl:"app/user/security/paymentPassword/sendVeriCode.tpl.html"}}})}]).controller("UserSecurityPaymentPasswordCtrl",["$scope","$stateParams","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e,f){var g=this;g.model={},g.viewModel={},g.viewModel.realName="",g.viewModel.credentialNo="",g.viewModel.password=void 0,g.viewModel.confirmPassword=void 0,g.doRefresh=function(){g.refreshUser().then(function(a){return g.model.user=a,g.refreshViewModel(),a})},g.refreshUser=function(){return e.getUserInfo()},g.refreshViewModel=function(){g.viewModel.needUserInfo=g.model.user.verified},g.enableButton=function(){return g.viewModel.needUserInfo?g.viewModel.password&&g.viewModel.confirmPassword&&g.viewModel.password===g.viewModel.confirmPassword&&g.viewModel.realName&&g.viewModel.credentialNo:g.viewModel.password&&g.viewModel.confirmPassword&&g.viewModel.password===g.viewModel.confirmPassword},g.resetPassword=function(){g.enableButton()&&e.resetPaymentPassword(g.viewModel.credentialNo,g.viewModel.password,b.token,g.viewModel.realName).then(function(a){a&&(f.showAlert(d.TIP.SECURITY.RESET_PASSWORD),e.loginOut(),c(function(){f.goWithDisableBack("jym.user-login")},1e3))})},a.$on("$ionicView.enter",function(){g.doRefresh()})}]).controller("UserSecuritySetPaymentPasswordCtrl",["$timeout","$stateParams","$ionicHistory","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e,f){var g=this;g.viewModel={},g.viewModel.password=void 0,g.viewModel.confirmPassword=void 0,g.enableButton=function(){return g.viewModel.password&&g.viewModel.confirmPassword&&g.viewModel.password===g.viewModel.confirmPassword},g.setPassword=function(){g.enableButton()&&e.setPaymentPassword(g.viewModel.password).then(function(b){b&&(f.showAlert(d.TIP.SECURITY.SETPAYMENTPASSWORD),a(function(){c.backView()?c.goBack():f.goWithDisableBack("jym.user")},1e3))})}}]).controller("UserSecurityPaymentPasswordSendVeriCodeCtrl",["$scope","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.viewModel.cellphone=void 0,f.viewModel.veriCode=void 0,f.viewModel.remainSeconds=0,f.doRefresh=function(){f.refreshUser().then(function(a){return f.model.user=a,f.refreshViewModel(),a})},f.refreshUser=function(){return d.getUserInfo()},f.refreshViewModel=function(){f.viewModel.cellphone=f.model.user.cellphone,f.viewModel.veriCode=""},f.sendVeriCode=function(){f.sendVeriCodeButtonEnable()&&(f.viewModel.remainSeconds=60,d.sendVeriCode(f.viewModel.cellphone,30).then(function(a){a&&e.showAlert(c.TIP.MISC.SEND_VERI_CODE)}),f.startTimer())},f.sendVeriCodeButtonEnable=function(){return f.viewModel.cellphone&&f.viewModel.remainSeconds<=0},f.showVeriCodeButton=function(){return f.viewModel.remainSeconds<=0},f.startTimer=function(){f.viewModel.remainSeconds>0&&(f.viewModel.remainSeconds=f.viewModel.remainSeconds-1,b(f.startTimer,1e3))},f.verifyVeriCode=function(){f.verifyVeriCodeButtonEnable()&&d.verifyVeriCode(f.viewModel.cellphone,f.viewModel.veriCode,30).then(function(a){a&&(f.viewModel.remainSeconds=0,e.showAlert(c.TIP.MISC.VERIFY_VERI_CODE),b(function(){e.go("jym.user-security-reset-payment-password",{token:a.token})},1e3))})},f.verifyVeriCodeButtonEnable=function(){return f.viewModel.cellphone&&f.viewModel.veriCode},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]),angular.module("jym.user.security",["jym.user.security-password","jym.user.security-payment-password"]).config(["$stateProvider",function(a){a.state("jym.user-security",{url:"/user/security",views:{user:{controller:"UserSecurityCtrl as ctrl",templateUrl:"app/user/security/security.tpl.html"}}})}]).controller("UserSecurityCtrl",["$scope","$stateParams","$timeout","RESOURCES","UserService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.doRefresh=function(){f.refreshUser().then(function(a){return f.model.user=a,f.refreshViewModel(),a})},f.refreshUser=function(){return e.getUserInfo()},f.refreshViewModel=function(){f.viewModel.hasSetPaymentPassword=f.model.user.hasSetPaymentPassword},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]),angular.module("jym.user.settle-account-deposit",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-settle-account-deposit",{url:"/user/settle-account/deposit",views:{user:{controller:"UserSettleAccountDepositCtrl as account",templateUrl:"app/user/settle-account/deposit/deposit.tpl.html"}}}).state("jym.user-settle-account-deposit-bank-card-selector",{url:"/user/settle-account/deposit/select-bank-card",views:{user:{controller:"UserSettleAccountDepositBankCardSeletorCtrl as account",templateUrl:"app/user/settle-account/deposit/bank-card-selector.tpl.html"}}}).state("jym.user-settle-account-deposit-success",{url:"/user/settle-account/deposit/success/{transactionIdentifier}",views:{user:{controller:"UserSettleAccountDepositSuccessCtrl as ctrl",templateUrl:"app/user/settle-account/deposit/deposit-success.tpl.html"}}})}]).controller("UserSettleAccountDepositCtrl",["$scope","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.viewModel.amount=void 0,f.viewModel.password=void 0,f.buttonEnable=function(){return f.viewModel.bankCardNo&&f.viewModel.amount&&f.viewModel.password},f.doRefresh=function(){f.refresh().then(function(a){return f.model=a,f.refreshViewModel(),a})},f.deposit=function(){if(f.buttonEnable()){var a=parseInt(100*f.viewModel.amount,10);d.depositByYilian(a,f.viewModel.bankCardNo,f.viewModel.password).then(function(a){a&&(e.showAlert(c.TIP.SETTLEACCOUNT.DEPOSIT_SUCCESS),d.sharedData.depositBankCardNo=void 0,b(function(){e.goWithDisableBack("jym.user-settle-account-deposit-success")},1e3))})}},f.refresh=function(){return d.sharedData.depositBankCardNo?d.getBankCard(d.sharedData.depositBankCardNo):d.getBankCards().then(function(a){return a=_.filter(a,function(a){return a.verifiedByYilian&&a.verified}),a.length>0?(d.sharedData.depositBankCardNo=a[0].bankCardNo,a[0]):null})},f.refreshViewModel=function(){null===f.model?f.viewModel.noCard=!0:(f.viewModel.bankCardNo=f.model.bankCardNo,f.viewModel.bankName=f.model.bankName,f.viewModel.cellphone=f.model.cellphone,f.viewModel.cityName=f.model.cityName,f.viewModel.verified=f.model.verified,f.viewModel.verifiedByYilian=f.model.verifiedByYilian,f.viewModel.verifiedTime=f.model.verifiedTime,f.viewModel.withdrawAmount=(f.model.withdrawAmount/100).toFixed(2),f.viewModel.noCard=!1)},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]).controller("UserSettleAccountDepositBankCardSeletorCtrl",["$scope","$timeout","$ionicHistory","UserService",function(a,b,c,d){var e=this;e.model={},e.viewModel={},e.viewModel.items=[],e.doRefresh=function(){e.refreshBankCards().then(function(a){return e.model=a,e.refreshViewModel(),a}),b(function(){a.$broadcast("scroll.refreshComplete")},1e3)},e.refreshBankCards=function(){return d.getBankCards()},e.refreshViewModel=function(){e.viewModel.items=[],_.forEach(e.model,function(a){var b={};b.bankCardNo=a.bankCardNo,b.bankName=a.bankName,b.cellphone=a.cellphone,b.cityName=a.cityName,b.verified=a.verified,b.verifiedByYilian=a.verifiedByYilian,b.verifiedTime=a.verifiedTime,b.withdrawAmount=(a.withdrawAmount/100).toFixed(2),e.viewModel.items.push(a)})},e.select=function(a){d.sharedData.depositBankCardNo=a,c.goBack()},e.selected=function(a){return d.sharedData.depositBankCardNo===a},a.$on("$ionicView.enter",function(){e.doRefresh()}),e.doRefresh()}]).controller("UserSettleAccountDepositSuccessCtrl",["$stateParams","JYMUtilityService",function(a,b){var c=this;c.transactionIdentifier=a.transactionIdentifier,c.go=function(a,c){c=c||{},b.goWithDisableBack(a,c)}}]),angular.module("jym.user.settle-account-detail",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-settle-account-detail",{url:"/user/settle-account/detail/{transactionIdentifier}",views:{user:{controller:"UserSettleAccountDetailCtrl as transaction",templateUrl:"app/user/settle-account/detail/detail.tpl.html"}}})}]).controller("UserSettleAccountDetailCtrl",["$scope","$stateParams","$timeout","UserService",function(a,b,c,d){var e=this;e.model={},e.viewModel={},e.doRefresh=function(){e.refresh().then(function(a){return e.model=a,e.refreshViewModel(),a}),c(function(){a.$broadcast("scroll.refreshComplete")},1e3)},e.refresh=function(){return d.getSettelAccountTransaction(b.transactionIdentifier)},e.refreshViewModel=function(){e.viewModel.amount=(e.model.amount/100).toFixed(2),e.viewModel.bankCardNo=e.model.bankCardNo,e.viewModel.channelCode=e.model.channelCode,e.viewModel.resultCode=e.model.resultCode,e.viewModel.resultTime=e.model.resultTime,e.viewModel.trade=e.model.trade,e.viewModel.tradeCode=e.model.tradeCode,e.viewModel.transactionIdentifier=e.model.transactionIdentifier,e.viewModel.transactionTime=e.model.transactionTime,e.viewModel.transDesc=e.model.transDesc,e.viewModel.resultStyle={color:"#444"},1===e.viewModel.resultCode&&(e.viewModel.resultStyle={color:"#47B28B"}),-1===e.viewModel.resultCode&&(e.viewModel.resultStyle={color:"#E74C3C"})},a.$on("$ionicView.enter",function(){e.doRefresh()}),e.doRefresh()}]),angular.module("jym.user.settle-account-list",["jym.services.user","jym.user.settle-account-detail"]).config(["$stateProvider",function(a){a.state("jym.user-settle-account-list",{url:"/user/settle-account/list",views:{user:{controller:"UserSettleAccountListCtrl as account",templateUrl:"app/user/settle-account/list/list.tpl.html"}}})}]).controller("UserSettleAccountListCtrl",["$scope","$timeout","UserService",function(a,b,c){var d=this,e=function(a){var b={};return b.amount=(a.amount/100).toFixed(2),b.resultCode=a.resultCode,b.resultTime=a.resultTime,b.trade=a.trade,b.tradeCode=a.tradeCode,b.transactionIdentifier=a.transactionIdentifier,b.transactionTime=a.transactionTime,b.transDesc=a.transDesc,b};d.viewModel={},d.viewModel.items=[],d.viewModel.currentPageIndex=0,d.viewModel.nextPageIndex=0,d.viewModel.pageSize=10,d.viewModel.totalCount=0,d.viewModel.totalPageCount=1,d.loadMoreData=function(){c.getSettelAccountList(d.viewModel.nextPageIndex).then(function(a){d.viewModel.currentPageIndex=a.pageIndex,d.viewModel.nextPageIndex=a.pageIndex+1,d.viewModel.pageSize=a.pageSize,d.viewModel.totalCount=a.totalCount,d.viewModel.totalPageCount=a.totalPageCount,_.forEach(a.items,function(a){d.viewModel.items.push(e(a))})}),b(function(){a.$broadcast("scroll.infiniteScrollComplete")},1e3)},d.moreDataCanBeLoaded=function(){return d.viewModel.nextPageIndex<d.viewModel.totalPageCount},d.doRefresh=function(){d.viewModel.items=[],d.viewModel.currentPageIndex=0,d.viewModel.nextPageIndex=0,d.viewModel.pageSize=10,d.viewModel.totalCount=0,d.viewModel.totalPageCount=1,b(function(){a.$broadcast("scroll.refreshComplete")},1e3)},d.doRefresh()}]),angular.module("jym.user.settle-account",["jym.services.user","jym.user.settle-account-deposit","jym.user.settle-account-list","jym.user.settle-account-withdrawal"]).config(["$stateProvider",function(a){a.state("jym.user-settle-account",{url:"/user/settle-account",views:{user:{controller:"UserSettleAccountCtrl as user",templateUrl:"app/user/settle-account/settle-account.tpl.html"}}})}]).controller("UserSettleAccountCtrl",["$scope","$state","$timeout","RESOURCES","UserService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.doRefresh=function(){f.refreshUser().then(function(a){return f.model=a,f.refreshViewModel(),a}),c(function(){a.$broadcast("scroll.refreshComplete")},1e3)},f.refreshUser=function(){return e.getUserInfo()},f.refreshViewModel=function(){f.viewModel.balance=(f.model.balance/100).toFixed(2),f.viewModel.investingPrincipal=(f.model.investingPrincipal/100).toFixed(2)},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]),angular.module("jym.user.settle-account-withdrawal",["jym.services.user"]).config(["$stateProvider",function(a){a.state("jym.user-settle-account-withdrawal",{url:"/user/settle-account/withdrawal",views:{user:{controller:"UserSettleAccountWithdrawalCtrl as account",templateUrl:"app/user/settle-account/withdrawal/withdrawal.tpl.html"}}}).state("jym.user-settle-account-withdrawal-bank-card-selector",{url:"/user/settle-account/withdrawal/select-bank-card",views:{user:{controller:"UserSettleAccountWithdrawalBankCardSeletorCtrl as account",templateUrl:"app/user/settle-account/withdrawal/bank-card-selector.tpl.html"}}})}]).controller("UserSettleAccountWithdrawalCtrl",["$scope","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.viewModel.amount=void 0,f.viewModel.password=void 0,f.buttonEnable=function(){return f.viewModel.bankCardNo&&f.viewModel.amount&&f.viewModel.password},f.doRefresh=function(){f.refresh().then(function(a){return f.model=a,f.refreshViewModel(),a})},f.refresh=function(){return d.sharedData.withdrawalBankCardNo?d.getBankCard(d.sharedData.withdrawalBankCardNo):d.getWithdrawalableBankCards().then(function(a){return a.length>0?(d.sharedData.withdrawalBankCardNo=a[0].bankCardNo,a[0]):null})},f.refreshViewModel=function(){null===f.model?f.viewModel.noCard=!0:(f.viewModel.bankCardNo=f.model.bankCardNo,f.viewModel.bankName=f.model.bankName,f.viewModel.cellphone=f.model.cellphone,f.viewModel.cityName=f.model.cityName,f.viewModel.verified=f.model.verified,f.viewModel.verifiedByYilian=f.model.verifiedByYilian,f.viewModel.verifiedTime=f.model.verifiedTime,f.viewModel.withdrawAmount=(f.model.withdrawAmount/100).toFixed(2),f.viewModel.noCard=!1)},f.selectAll=function(){f.viewModel.amount=f.viewModel.withdrawAmount},f.withdraw=function(){var a=parseInt(100*f.viewModel.amount,10);f.buttonEnable()&&d.withdrawal(a,f.viewModel.bankCardNo,f.viewModel.password).then(function(a){a&&(e.showAlert(c.TIP.SETTLEACCOUNT.WITHDRAWAL_SUCCESS),d.sharedData.withdrawalBankCardNo=void 0,b(function(){e.go("jym.user-settle-account-detail",{transactionIdentifier:a.transactionIdentifier})},1e3))})},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]).controller("UserSettleAccountWithdrawalBankCardSeletorCtrl",["$scope","$timeout","$ionicHistory","UserService",function(a,b,c,d){var e=this,f=function(a){var b={};return b.bankCardNo=a.bankCardNo,b.bankName=a.bankName,b.cellphone=a.cellphone,b.cityName=a.cityName,b.verified=a.verified,b.verifiedByYilian=a.verifiedByYilian,b.verifiedTime=a.verifiedTime,b.withdrawAmount=(a.withdrawAmount/100).toFixed(2),b};e.model={},e.viewModel={},e.viewModel.items=[],e.doRefresh=function(){e.refreshBankCards().then(function(a){return e.model=a,e.refreshViewModel(),a}),b(function(){a.$broadcast("scroll.refreshComplete")},1e3)},e.refreshBankCards=function(){return d.getWithdrawalableBankCards()},e.refreshViewModel=function(){e.viewModel.items=[],_.forEach(e.model,function(a){e.viewModel.items.push(f(a))})},e.select=function(a){d.sharedData.withdrawalBankCardNo=a,c.goBack()},e.selected=function(a){return d.sharedData.withdrawalBankCardNo===a},a.$on("$ionicView.enter",function(){e.doRefresh()}),e.doRefresh()}]),angular.module("jym.user.signup",[]).config(["$stateProvider",function(a){a.state("jym.user-signup",{url:"/user/signup/{token}",views:{user:{controller:"UserSignUpCtrl as ctrl",templateUrl:"app/user/signup/signup.tpl.html"}}}).state("jym.user-signup-send-veri-code",{url:"/user/signup-send-veri-code",views:{user:{controller:"UserSignUpSendVeriCodeCtrl as ctrl",templateUrl:"app/user/signup/sendVeriCode.tpl.html"}}})}]).controller("UserSignUpCtrl",["$timeout","$stateParams","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.viewModel={},f.viewModel.password=void 0,f.viewModel.confirmPassword=void 0,f.enableButton=function(){return f.viewModel.password&&f.viewModel.confirmPassword&&f.viewModel.password===f.viewModel.confirmPassword},f.resetPassword=function(){f.enableButton()&&d.signUp(f.viewModel.password,b.token).then(function(b){b&&(e.showAlert(c.TIP.SIGNUP.SIGNUP_SUCCESS),d.loginOut(),a(function(){e.goWithDisableBack("jym.user-login")},1e3))})}}]).controller("UserSignUpSendVeriCodeCtrl",["$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d){var e=this;e.viewModel={},e.viewModel.cellphone=void 0,e.viewModel.veriCode=void 0,e.viewModel.remainSeconds=0,e.sendVeriCode=function(){e.sendVeriCodeButtonEnable()&&(e.viewModel.remainSeconds=60,c.sendVeriCode(e.viewModel.cellphone,10).then(function(a){a&&d.showAlert(b.TIP.MISC.SEND_VERI_CODE)}),e.startTimer())},e.sendVeriCodeButtonEnable=function(){return e.viewModel.cellphone&&e.viewModel.remainSeconds<=0},e.showVeriCodeButton=function(){return e.viewModel.remainSeconds<=0},e.startTimer=function(){e.viewModel.remainSeconds>0&&(e.viewModel.remainSeconds=e.viewModel.remainSeconds-1,a(e.startTimer,1e3))},e.verifyVeriCode=function(){e.verifyVeriCodeButtonEnable()&&c.verifyVeriCode(e.viewModel.cellphone,e.viewModel.veriCode,10).then(function(c){c&&(e.viewModel.remainSeconds=0,d.showAlert(b.TIP.MISC.VERIFY_VERI_CODE),a(function(){d.go("jym.user-signup",{token:c.token})},1e3))})},e.verifyVeriCodeButtonEnable=function(){return e.viewModel.cellphone&&e.viewModel.veriCode}}]),angular.module("jym.user",["jym.services.user","jym.user.about","jym.user.bank-card","jym.user.login","jym.user.jinbaoyin","jym.user.orders","jym.user.security","jym.user.settle-account"]).config(["$stateProvider",function(a){a.state("jym.user",{url:"/user",views:{user:{controller:"UserCtrl as user",templateUrl:"app/user/index.tpl.html"}}})}]).controller("UserCtrl",["$scope","$timeout","RESOURCES","UserService","JYMUtilityService",function(a,b,c,d,e){var f=this;f.model={},f.viewModel={},f.doRefresh=function(){f.refreshUser().then(function(a){return f.model=a,f.refreshViewModel(),a}),b(function(){a.$broadcast("scroll.refreshComplete")},1e3)},f.refreshUser=function(){return d.getUserInfo()},f.refreshViewModel=function(){f.viewModel.cellphone=f.model.cellphone,f.viewModel.realName=f.model.realName||"未实名认证",f.viewModel.credentialNo=f.model.credentialNo||"未实名认证"},f.loginOut=function(){d.loginOut(),e.showAlert(c.TIP.USER.LOGIN_OUT),b(function(){e.goWithDisableBack("jym.user-login")},1e3)},a.$on("$ionicView.enter",function(){f.doRefresh()}),f.doRefresh()}]),angular.module("jym.yinpiao.detail",["jym.services","jym.services.product","jym.services.purchase","jym.services.user","jym.yinpiao.purchase"]).config(["$stateProvider",function(a){a.state("jym.yinpiao-detail",{url:"/yinpiao/detail/{productIdentifier}",views:{yinpiao:{controller:"YinpiaoDetailCtrl as product",templateUrl:"app/yinpiao/detail/detail.tpl.html"}}})}]).controller("YinpiaoDetailCtrl",["$scope","$state","$stateParams","$timeout","$q","ProductService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g,h,i){var j=this,k=function(a){return f.getSaleProgress(a.paidAmount,a.financingSumAmount,a.soldOut,a.startSellTime,a.endSellTime)},l=function(a){var b=f.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonText:"售 罄"}}},m=function(a){return f.getValueDateModeText(a)};j.model={},j.viewModel={},j.viewModel.investCount=10,j.viewModel.investAmount=0,j.viewModel.expectedInterest=0,j.doRefresh=function(){j.refreshProduct(),d(function(){a.$broadcast("scroll.refreshComplete")},500)},j.investCountChange=function(){j.viewModel.investCount<0&&(j.viewModel.investCount=0),j.viewModel.investCount>j.viewModel.remainCount&&(j.viewModel.investCount=parseInt(j.viewModel.remainCount,10)),j.refreshInvestViewModel()},j.getAccrualDuration=function(){var a=(moment(j.model.settleDate)-moment(j.model.valueDate))/864e5;return parseInt(a,10)},j.goPurchase=function(){if(j.goPurchaseButtonEnable()){var a=j.viewModel.investCount*j.model.unitPrice,c=h.checkUserPurchaseStatus(),d=f.checkProductPurchaseStatus(j.refreshProduct(),a);e.all([c,d]).then(function(c){g.buildRegularOrder(a,c[1].productIdentifier,100000010),
b.go("jym.yinpiao-purchase")})["catch"](function(a){i.showAlert(a)})}},j.goPurchaseButtonEnable=function(){return 20===j.viewModel.status.status&&j.viewModel.investAmount&&j.viewModel.investAmount>=j.viewModel.unitPrice},j.refreshInvestViewModel=function(){isFinite(j.viewModel.investCount)?j.viewModel.investAmount=j.viewModel.investCount*j.viewModel.unitPrice:j.viewModel.investAmount=0,j.viewModel.expectedInterest=(f.getInterest(100*j.viewModel.investAmount,j.model["yield"],j.getAccrualDuration())/100).toFixed(2)},j.refreshProduct=function(){return f.getRegularProductInfo(c.productIdentifier).then(function(a){return j.model=a,j.refreshViewModel(),j.refreshInvestViewModel(),a})},j.refreshViewModel=function(){j.viewModel.bankName=j.model.bankName,j.viewModel.drawee=j.model.drawee,j.viewModel.draweeInfo=j.model.draweeInfo,j.viewModel.endorseImageLink=j.model.endorseImageLink,j.viewModel.endSellTime=j.model.endSellTime,j.viewModel.enterpriseInfo=j.model.enterpriseInfo,j.viewModel.enterpriseLicense=j.model.enterpriseLicense,j.viewModel.enterpriseName=j.model.enterpriseName,j.viewModel.financingSumAmount=j.model.financingSumAmount/1e6,j.viewModel.issueNo=j.model.issueNo,j.viewModel.issueTime=j.model.issueTime,j.viewModel.paidAmount=j.model.paidAmount,j.viewModel.period=j.model.period,j.viewModel.productCategory=j.model.productCategory,j.viewModel.productIdentifier=j.model.productIdentifier,j.viewModel.productName=j.model.productName+" 第"+j.model.issueNo+"期",j.viewModel.productNo=j.model.productNo,j.viewModel.remainCount=((j.model.financingSumAmount-j.model.paidAmount)/j.model.unitPrice).toFixed(0),j.viewModel.repaid=j.model.repaid,j.viewModel.repaidTime=j.model.repaidTime,j.viewModel.repaymentDeadline=j.model.repaymentDeadline,j.viewModel.riskManagement=j.model.riskManagement,j.viewModel.riskManagementInfo=j.model.riskManagementInfo,j.viewModel.riskManagementMode=j.model.riskManagementMode,j.viewModel.sellProgress=k(j.model),j.viewModel.sellProgressInCircleProgress=j.viewModel.sellProgress/100,j.viewModel.settleDate=j.model.settleDate,j.viewModel.soldOut=j.model.soldOut,j.viewModel.soldOutTime=j.model.soldOutTime,j.viewModel.specifyValueDate=j.model.specifyValueDate,j.viewModel.startSellTime=j.model.startSellTime,j.viewModel.status=l(j.model),j.viewModel.unitPrice=(j.model.unitPrice/100).toFixed(0),j.viewModel.usage=j.model.usage,j.viewModel.valueDate=j.model.valueDate,j.viewModel.valueDateMode=j.model.valueDateMode,j.viewModel.valueDateText=m(j.model.valueDateMode,j.model.valueDate,j.model.specifyValueDate),j.viewModel["yield"]=j.model["yield"]/100,20!==j.viewModel.status.status&&(j.viewModel.remainCount=0)},j.doRefresh()}]),angular.module("jym.yinpiao.purchase",["jym.services","jym.services.product","jym.services.purchase","jym.services.user","jym.user.orders-detail"]).config(["$stateProvider",function(a){a.state("jym.yinpiao-purchase",{url:"/yinpiao/purchase",views:{yinpiao:{controller:"YinpiaoPurchaseCtrl as purchase",templateUrl:"app/yinpiao/purchase/purchase.tpl.html"}}})}]).controller("YinpiaoPurchaseCtrl",["$scope","$timeout","RESOURCES","ProductService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g){var h=this;h.model={},h.viewModel={},h.model.currentUser={},h.model.order={},h.viewModel.password=void 0,h.viewModel.checked=!0,h.check=function(){h.viewModel.checked=!h.viewModel.checked},h.doRefresh=function(){h.refreshUserInfo().then(function(a){return h.model.currentUser=a,h.model.order=e.getRegularOrder(100000010),h.refreshViewModel(),a})},h.refreshUserInfo=function(){return f.getUserInfo()},h.refreshViewModel=function(){h.viewModel.balance=(h.model.currentUser.balance/100).toFixed(2),h.viewModel.amount=(h.model.order.amount/100).toFixed(2),h.viewModel.agreement2="借款协议",h.viewModel.agreement1="委托协议"},h.purchaseButtonEnable=function(){return h.viewModel.checked&&h.viewModel.amount&&h.viewModel.password&&h.model.currentUser.balance>=h.model.order.amount},h.purchase=function(){if(h.purchaseButtonEnable()){var a=parseInt(100*h.model.order.amount,10);f.investingRegular(a,h.viewModel.password,h.model.order.productIdentifier).then(function(a){a&&(g.showAlert(c.TIP.INVESTING.REGULAR),e.clearRegularOrder(),b(function(){g.go("jym.user-orders-detail",{orderIdentifier:a.orderIdentifier})},1e3))})}},a.$on("$ionicView.enter",function(){h.doRefresh()}),h.doRefresh()}]),angular.module("jym.yinpiao",["jym.services","jym.yinpiao.detail"]).config(["$stateProvider",function(a){a.state("jym.yinpiao",{url:"/yinpiao",views:{yinpiao:{controller:"YinpiaoIndexCtrl as products",templateUrl:"app/yinpiao/index.tpl.html"}}})}]).controller("YinpiaoIndexCtrl",["$scope","$timeout","$filter","ProductService",function(a,b,c,d){var e=this,f=function(a){return d.getSaleProgress(a.paidAmount,a.financingSumAmount)},g=function(a){var b=d.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonClass:"",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonClass:"",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonClass:"",buttonText:"售 罄"}}},h=function(a,b,c){return d.getValueDateModeText(a,b,c)},i=function(a){var b={};return b.bankName=a.bankName,b.drawee=a.drawee,b.draweeInfo=a.draweeInfo,b.endorseImageLink=a.endorseImageLink,b.endSellTime=a.endSellTime,b.enterpriseInfo=a.enterpriseInfo,b.enterpriseLicense=a.enterpriseLicense,b.enterpriseName=a.enterpriseName,b.financingSumAmount=a.financingSumAmount/1e6,b.issueNo=a.issueNo,b.issueTime=a.issueTime,b.paidAmount=a.paidAmount,b.period=a.period,b.productCategory=a.productCategory,b.productIdentifier=a.productIdentifier,b.productName=a.productName+" 第"+a.issueNo+"期",b.productNo=a.productNo,b.remainCount=((a.financingSumAmount-a.paidAmount)/a.unitPrice).toFixed(0),b.repaid=a.repaid,b.repaidTime=a.repaidTime,b.repaymentDeadline=a.repaymentDeadline,b.riskManagement=a.riskManagement,b.riskManagementInfo=a.riskManagementInfo,b.riskManagementMode=a.riskManagementMode,b.sellProgress=f(a),b.sellProgressInCircleProgress=b.sellProgress/100,b.settleDate=a.settleDate,b.soldOut=a.soldOut,b.soldOutTime=a.soldOutTime,b.specifyValueDate=a.specifyValueDate,b.startSellTime=a.startSellTime,b.status=g(a),b.unitPrice=(a.unitPrice/100).toFixed(0),b.usage=a.usage,b.valueDate=a.valueDate,b.valueDateMode=a.valueDateMode,b.valueDateText=h(a.valueDateMode,a.valueData,a.specifyValueDate),b["yield"]=a["yield"]/100,10===b.status.status?(b.statusText="待售",b.statusTextClass="",b.timeText="开售时间 "+c("time")(b.startSellTime)):20===b.status.status?(b.statusText="抢购 已售出"+b.sellProgress+"%",b.statusTextClass="",b.timeText="起息时间 "+b.valueDateText):(b.statusText="售罄 请期待下期",b.statusTextClass="",b.timeText="还款时间 "+c("time")(b.repaymentDeadline)),b};e.viewModel={},e.viewModel.items=[],e.viewModel.currentPageIndex=0,e.viewModel.nextPageIndex=0,e.viewModel.pageSize=10,e.viewModel.totalCount=0,e.viewModel.totalPageCount=1,e.loadMoreData=function(){d.getYinpiaoPage(e.viewModel.nextPageIndex).then(function(a){e.viewModel.currentPageIndex=a.pageIndex,e.viewModel.nextPageIndex=a.pageIndex+1,e.viewModel.pageSize=a.pageSize,e.viewModel.totalCount=a.totalCount,e.viewModel.totalPageCount=a.totalPageCount,_.forEach(a.items,function(a){e.viewModel.items.push(i(a))})}),b(function(){a.$broadcast("scroll.infiniteScrollComplete")},1e3)},e.moreDataCanBeLoaded=function(){return e.viewModel.nextPageIndex<e.viewModel.totalPageCount},e.doRefresh=function(){e.viewModel.items=[],e.viewModel.currentPageIndex=0,e.viewModel.nextPageIndex=0,e.viewModel.pageSize=10,e.viewModel.totalCount=0,e.viewModel.totalPageCount=1,b(function(){a.$broadcast("scroll.refreshComplete")},1e3)}}]),angular.module("jym.zhuanqu.detail",["jym.services","jym.services.product","jym.services.purchase","jym.services.user","jym.zhuanqu.purchase"]).config(["$stateProvider",function(a){a.state("jym.zhuanqu-detail",{url:"/zhuanqu/detail/{bankName}/{productIdentifier}",views:{zhuanqu:{controller:"ZhuanquDetailCtrl as product",templateUrl:"app/zhuanqu/detail/detail.tpl.html"}}})}]).controller("ZhuanquDetailCtrl",["$scope","$state","$stateParams","$timeout","$q","ProductService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g,h,i){var j=this,k=function(a){return f.getSaleProgress(a.paidAmount,a.financingSumAmount)},l=function(a){var b=f.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonText:"售 罄"}}},m=function(a){return f.getValueDateModeText(a)};j.model={},j.viewModel={},j.viewModel.investCount=10,j.viewModel.investAmount=0,j.viewModel.expectedInterest=0,j.doRefresh=function(){j.refreshProduct(),d(function(){a.$broadcast("scroll.refreshComplete")},500)},j.investCountChange=function(){j.viewModel.investCount<0&&(j.viewModel.investCount=0),j.viewModel.investCount>j.viewModel.remainCount&&(j.viewModel.investCount=parseInt(j.viewModel.remainCount,10)),j.refreshInvestViewModel()},j.getAccrualDuration=function(){var a=(moment(j.model.settleDate)-moment(j.model.valueDate))/864e5;return parseInt(a,10)},j.goPurchase=function(){var a;if(a="fudian"===c.bankName?210001010:"fuxin"===c.bankName?210003010:"shibing"===c.bankName?210002020:100000010,j.goPurchaseButtonEnable()){var d=j.viewModel.investCount*j.model.unitPrice,k=h.checkUserPurchaseStatus(),l=f.checkProductPurchaseStatus(j.refreshProduct(),d);e.all([k,l]).then(function(c){g.buildRegularOrder(d,c[1].productIdentifier,a),b.go("jym.zhuanqu-purchase")})["catch"](function(a){i.showAlert(a)})}},j.goPurchaseButtonEnable=function(){return 20===j.viewModel.status.status&&j.viewModel.investAmount&&j.viewModel.investAmount>=j.viewModel.unitPrice},j.refreshInvestViewModel=function(){isFinite(j.viewModel.investCount)?j.viewModel.investAmount=j.viewModel.investCount*j.viewModel.unitPrice:j.viewModel.investAmount=0,j.viewModel.expectedInterest=(f.getInterest(100*j.viewModel.investAmount,j.model["yield"],j.getAccrualDuration())/100).toFixed(2)},j.refreshProduct=function(){return f.getRegularProductInfo(c.productIdentifier).then(function(a){return j.model=a,j.refreshViewModel(),j.refreshInvestViewModel(),a})},j.refreshViewModel=function(){j.viewModel.bankName=j.model.bankName,j.viewModel.drawee=j.model.drawee,j.viewModel.draweeInfo=j.model.draweeInfo,j.viewModel.endorseImageLink=j.model.endorseImageLink,j.viewModel.endSellTime=j.model.endSellTime,j.viewModel.enterpriseInfo=j.model.enterpriseInfo,j.viewModel.enterpriseLicense=j.model.enterpriseLicense,j.viewModel.enterpriseName=j.model.enterpriseName,j.viewModel.financingSumAmount=j.model.financingSumAmount/1e6,j.viewModel.issueNo=j.model.issueNo,j.viewModel.issueTime=j.model.issueTime,j.viewModel.paidAmount=j.model.paidAmount,j.viewModel.period=j.model.period,j.viewModel.productCategory=j.model.productCategory,j.viewModel.productIdentifier=j.model.productIdentifier,j.viewModel.productName=j.model.productName+" 第"+j.model.issueNo+"期",j.viewModel.productNo=j.model.productNo,j.viewModel.remainCount=((j.model.financingSumAmount-j.model.paidAmount)/j.model.unitPrice).toFixed(0),j.viewModel.repaid=j.model.repaid,j.viewModel.repaidTime=j.model.repaidTime,j.viewModel.repaymentDeadline=j.model.repaymentDeadline,j.viewModel.riskManagement=j.model.riskManagement,j.viewModel.riskManagementInfo=j.model.riskManagementInfo,j.viewModel.riskManagementMode=j.model.riskManagementMode,j.viewModel.sellProgress=k(j.model),j.viewModel.sellProgressInCircleProgress=j.viewModel.sellProgress/100,j.viewModel.settleDate=j.model.settleDate,j.viewModel.soldOut=j.model.soldOut,j.viewModel.soldOutTime=j.model.soldOutTime,j.viewModel.specifyValueDate=j.model.specifyValueDate,j.viewModel.startSellTime=j.model.startSellTime,j.viewModel.status=l(j.model),j.viewModel.unitPrice=(j.model.unitPrice/100).toFixed(0),j.viewModel.usage=j.model.usage,j.viewModel.valueDate=j.model.valueDate,j.viewModel.valueDateMode=j.model.valueDateMode,j.viewModel.valueDateText=m(j.model.valueDateMode,j.model.valueDate,j.model.specifyValueDate),j.viewModel["yield"]=j.model["yield"]/100,"fudian"===c.bankName?(j.viewModel.isYinpiao=!0,j.viewModel.isShangpiao=!1,j.viewModel.riskManagementText=j.viewModel.bankName):"fuxin"===c.bankName?(j.viewModel.isYinpiao=!0,j.viewModel.isShangpiao=!1,j.viewModel.riskManagementText=j.viewModel.bankName):"shibing"===c.bankName?(j.viewModel.isYinpiao=!1,j.viewModel.isShangpiao=!0,j.viewModel.riskManagementText=j.viewModel.riskManagement):(j.viewModel.isYinpiao=!1,j.viewModel.isShangpiao=!1,j.viewModel.riskManagementText=j.viewModel.riskManagement)},j.doRefresh()}]),angular.module("jym.zhuanqu.purchase",["jym.services","jym.services.product","jym.services.purchase","jym.services.user","jym.user.orders-detail"]).config(["$stateProvider",function(a){a.state("jym.zhuanqu-purchase",{url:"/zhuanqu/purchase/{bankName}",views:{zhuanqu:{controller:"ZhuanquPurchaseCtrl as purchase",templateUrl:"app/zhuanqu/purchase/purchase.tpl.html"}}})}]).controller("ZhuanquPurchaseCtrl",["$scope","$stateParams","$timeout","RESOURCES","ProductService","PurchaseService","UserService","JYMUtilityService",function(a,b,c,d,e,f,g,h){var i=this;i.model={},i.viewModel={},i.model.currentUser={},i.model.order={},i.viewModel.password=void 0,i.viewModel.checked=!0,i.check=function(){i.viewModel.checked=!i.viewModel.checked},i.doRefresh=function(){var a;a="fudian"===b.bankName?210001010:"fuxin"===b.bankName?210003010:"shibing"===b.bankName?210002020:100000010,i.refreshUserInfo().then(function(b){return i.model.currentUser=b,i.model.order=f.getRegularOrder(a),i.refreshViewModel(),b})},i.refreshUserInfo=function(){return g.getUserInfo()},i.refreshViewModel=function(){i.viewModel.balance=(i.model.currentUser.balance/100).toFixed(2),i.viewModel.amount=(i.model.order.amount/100).toFixed(2),i.viewModel.agreement2="借款协议",i.viewModel.agreement1="委托协议"},i.purchaseButtonEnable=function(){return i.viewModel.checked&&i.viewModel.amount&&i.viewModel.password&&i.model.currentUser.balance>=i.model.order.amount},i.purchase=function(){if(i.purchaseButtonEnable()){var a=parseInt(100*i.model.order.amount,10);g.investingRegular(a,i.viewModel.password,i.model.order.productIdentifier).then(function(a){a&&(h.showAlert(d.TIP.INVESTING.REGULAR),f.clearRegularOrder(),c(function(){h.go("jym.user-orders-detail",{orderIdentifier:a.orderIdentifier})},1e3))})}},a.$on("$ionicView.enter",function(){i.doRefresh()}),i.doRefresh()}]),angular.module("jym.zhuanqu",["jym.services","jym.zhuanqu.detail"]).config(["$stateProvider",function(a){a.state("jym.zhuanqu",{url:"/zhuanqu",views:{zhuanqu:{templateUrl:"app/zhuanqu/index.tpl.html"}}}).state("jym.zhuanqu-list",{url:"/zhuanqu/list/{bankName}",views:{zhuanqu:{controller:"ZhuanquIndexCtrl as ctrl",templateUrl:"app/shangpiao/index.tpl.html"}}})}]).controller("ZhuanquIndexCtrl",["$scope","$filter","$stateParams","$timeout","ProductService",function(a,b,c,d,e){var f=this,g=function(a){return e.getSaleProgress(a.paidAmount,a.financingSumAmount)},h=function(a){var b=e.getSaleStatus(a.soldOut,a.startSellTime,a.endSellTime);switch(b){case 10:return{status:10,text:"待售",icon:"jym-icon-waiting",buttonClass:"",buttonText:"待 售"};case 20:return{status:20,text:"抢购",icon:"jym-icon-selling",buttonClass:"",buttonText:"立 即 抢 购"};case 30:return{status:30,text:"售罄",icon:"jym-icon-soldout",buttonClass:"",buttonText:"售 罄"}}},i=function(a,b,c){return e.getValueDateModeText(a,b,c)},j=function(a){var d={};return d.bankName=a.bankName,d.drawee=a.drawee,d.draweeInfo=a.draweeInfo,d.endorseImageLink=a.endorseImageLink,d.endSellTime=a.endSellTime,d.enterpriseInfo=a.enterpriseInfo,d.enterpriseLicense=a.enterpriseLicense,d.enterpriseName=a.enterpriseName,d.financingSumAmount=a.financingSumAmount/1e6,d.issueNo=a.issueNo,d.issueTime=a.issueTime,d.paidAmount=a.paidAmount,d.period=a.period,d.productCategory=a.productCategory,d.productIdentifier=a.productIdentifier,d.productName=a.productName+" 第"+a.issueNo+"期",d.productNo=a.productNo,d.remainCount=((a.financingSumAmount-a.paidAmount)/a.unitPrice).toFixed(0),d.repaid=a.repaid,d.repaidTime=a.repaidTime,d.repaymentDeadline=a.repaymentDeadline,d.riskManagement=a.riskManagement,d.riskManagementInfo=a.riskManagementInfo,d.riskManagementMode=a.riskManagementMode,d.sellProgress=g(a),d.sellProgressInCircleProgress=d.sellProgress/100,d.settleDate=a.settleDate,d.soldOut=a.soldOut,d.soldOutTime=a.soldOutTime,d.specifyValueDate=a.specifyValueDate,d.startSellTime=a.startSellTime,d.status=h(a),d.unitPrice=(a.unitPrice/100).toFixed(0),d.usage=a.usage,d.valueDate=a.valueDate,d.valueDateMode=a.valueDateMode,d.valueDateText=i(a.valueDateMode,a.valueDate,a.specifyValueDate),d["yield"]=a["yield"]/100,10===d.status.status?(d.statusText="待售",d.statusTextClass="",d.timeText="开售时间 "+b("time")(d.startSellTime)):20===d.status.status?(d.statusText="抢购 已售出"+d.sellProgress+"%",d.statusTextClass="",d.timeText="起息时间 "+d.valueDateText):(d.statusText="售罄 请期待下期",d.statusTextClass="",d.timeText="还款时间 "+b("time")(d.repaymentDeadline)),"fudian"===c.bankName?(d.isYinpiao=!0,d.isShangpiao=!1,d.riskManagementText=d.bankName):"fuxin"===c.bankName?(d.isYinpiao=!0,d.isShangpiao=!1,d.riskManagementText=d.bankName):"shibing"===c.bankName?(d.isYinpiao=!1,d.isShangpiao=!0,d.riskManagementText=d.riskManagement):(d.isYinpiao=!1,d.isShangpiao=!1,d.riskManagementText=d.riskManagement),d};f.viewModel={},f.viewModel.items=[],f.viewModel.currentPageIndex=0,f.viewModel.nextPageIndex=0,f.viewModel.pageSize=10,f.viewModel.totalCount=0,f.viewModel.totalPageCount=1,f.loadMoreData=function(){e.getYinpiaoPage(f.viewModel.nextPageIndex).then(function(a){f.viewModel.currentPageIndex=a.pageIndex,f.viewModel.nextPageIndex=a.pageIndex+1,f.viewModel.pageSize=a.pageSize,f.viewModel.totalCount=a.totalCount,f.viewModel.totalPageCount=a.totalPageCount,_.forEach(a.items,function(a){f.viewModel.items.push(j(a))})}),d(function(){a.$broadcast("scroll.infiniteScrollComplete")},1e3)},f.moreDataCanBeLoaded=function(){return f.viewModel.nextPageIndex<f.viewModel.totalPageCount},f.doRefresh=function(){f.viewModel.items=[],f.viewModel.currentPageIndex=0,f.viewModel.nextPageIndex=0,f.viewModel.pageSize=10,f.viewModel.totalCount=0,f.viewModel.totalPageCount=1,d(function(){a.$broadcast("scroll.refreshComplete")},1e3)},f.doRefresh()}]),window.paceOptions={document:!0,elements:!0,eventLag:!0,restartOnPushState:!1,restartOnRequestAfter:!1,ajax:{trackMethods:["POST","GET"]}},function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=["ajax","document","eventLag","elements"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d="translate3d("+this.progress+"%, 0, 0)",g=["webkitTransform","msTransform","transform"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),a.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e,f;f=[];for(d in b.prototype)try{e=b.prototype[d],f.push(null==a[d]&&"function"!=typeof e?a[d]=e:void 0)}catch(g){c=g}return f},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("ignore"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("track"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a="GET"),"track"===A[0])return"force";if(!A.length&&D.ajax){if("socket"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return J(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&"force"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c="socket"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2},!1),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger("stop"),j.running=!1,r.destroy(),s=!0,null!=p&&("function"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger("restart"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger("done"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(".pace")?(j.trigger("start"),j.go()):setTimeout(j.start,50)},"function"==typeof define&&define.amd?define(function(){return j}):"object"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}.call(this);
//# sourceMappingURL=jym%4013.1.2-dev.min.js.map